; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc -mtriple=amdgcn -mcpu=gfx906 -amdgpu-coerce-illegal-types=1 < %s | FileCheck --check-prefix=FEATURE %s
; RUN: llc -mtriple=amdgcn -mcpu=gfx906 < %s | FileCheck --check-prefix=DEFAULT %s

define amdgpu_kernel void @v3i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v3i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v2, 2, v0
; GFX906-NEXT:    v_mov_b32_e32 v3, 8
; GFX906-NEXT:    v_mov_b32_e32 v1, 0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dword v4, v2, s[4:5]
; GFX906-NEXT:    s_mov_b32 s4, 0xff0000
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_lshrrev_b32_sdwa v5, v3, v4 dst_sel:BYTE_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v5, v4, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v5, 0xffff, v5
; GFX906-NEXT:    v_and_or_b32 v4, v4, s4, v5
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB0_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dword v0, v2, s[6:7]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_lshrrev_b32_sdwa v2, v3, v0 dst_sel:BYTE_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v2, v0, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v2, 0xffff, v2
; GFX906-NEXT:    v_and_or_b32 v4, v0, s4, v2
; GFX906-NEXT:  .LBB0_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    global_store_byte_d16_hi v1, v4, s[2:3] offset:2
; GFX906-NEXT:    global_store_short v1, v4, s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v3i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v2, 2, v0
; FEATURE-NEXT:    v_mov_b32_e32 v3, 8
; FEATURE-NEXT:    v_mov_b32_e32 v1, 0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dword v4, v2, s[4:5]
; FEATURE-NEXT:    s_mov_b32 s4, 0xff0000
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_lshrrev_b32_sdwa v5, v3, v4 dst_sel:BYTE_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v5, v4, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v5, 0xffff, v5
; FEATURE-NEXT:    v_and_or_b32 v4, v4, s4, v5
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB0_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dword v0, v2, s[6:7]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_lshrrev_b32_sdwa v2, v3, v0 dst_sel:BYTE_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v2, v0, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v2, 0xffff, v2
; FEATURE-NEXT:    v_and_or_b32 v4, v0, s4, v2
; FEATURE-NEXT:  .LBB0_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    global_store_byte_d16_hi v1, v4, s[2:3] offset:2
; FEATURE-NEXT:    global_store_short v1, v4, s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v3i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v5, 2, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v1, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dword v2, v5, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 8, v2
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB0_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dword v2, v5, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 8, v2
; DEFAULT-NEXT:  .LBB0_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v4
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v2, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_byte v1, v3, s[2:3] offset:2
; DEFAULT-NEXT:    global_store_short v1, v0, s[2:3]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <3 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <3 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <3 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <3 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <3 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <3 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v4i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v4i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v3, 2, v0
; GFX906-NEXT:    v_mov_b32_e32 v1, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dword v2, v3, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB1_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dword v2, v3, s[6:7]
; GFX906-NEXT:  .LBB1_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dword v1, v2, s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v4i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v3, 2, v0
; FEATURE-NEXT:    v_mov_b32_e32 v1, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dword v2, v3, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB1_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dword v2, v3, s[6:7]
; FEATURE-NEXT:  .LBB1_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dword v1, v2, s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v4i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v6, 2, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v1, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dword v2, v6, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 8, v2
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB1_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dword v2, v6, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 8, v2
; DEFAULT-NEXT:  .LBB1_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v2, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v4, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dword v1, v0, s[2:3]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <4 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <4 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <4 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <4 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <4 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <4 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v5i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v5i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; GFX906-NEXT:    v_mov_b32_e32 v3, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v4, s[4:5]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_and_b32_e32 v2, 0xff, v2
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB2_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v4, s[6:7]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_and_b32_e32 v2, 0xff, v2
; GFX906-NEXT:  .LBB2_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    global_store_byte v3, v2, s[2:3] offset:4
; GFX906-NEXT:    global_store_dword v3, v1, s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v5i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; FEATURE-NEXT:    v_mov_b32_e32 v3, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v4, s[4:5]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_and_b32_e32 v2, 0xff, v2
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB2_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v4, s[6:7]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_and_b32_e32 v2, 0xff, v2
; FEATURE-NEXT:  .LBB2_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    global_store_byte v3, v2, s[2:3] offset:4
; FEATURE-NEXT:    global_store_dword v3, v1, s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v5i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v7, 3, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v5, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v7, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b64 v[3:4], 24, v[1:2]
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB2_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v7, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b64 v[3:4], 24, v[1:2]
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 8, v1
; DEFAULT-NEXT:  .LBB2_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v4, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_byte v5, v2, s[2:3] offset:4
; DEFAULT-NEXT:    global_store_dword v5, v0, s[2:3]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <5 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <5 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <5 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <5 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <5 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <5 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v8i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v8i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; GFX906-NEXT:    v_mov_b32_e32 v3, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v4, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB3_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v4, s[6:7]
; GFX906-NEXT:  .LBB3_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx2 v3, v[1:2], s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; FEATURE-NEXT:    v_mov_b32_e32 v3, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v4, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB3_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v4, s[6:7]
; FEATURE-NEXT:  .LBB3_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx2 v3, v[1:2], s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v10, 3, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v3, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v10, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB3_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v10, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 8, v1
; DEFAULT-NEXT:  .LBB3_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v9
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v7
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v8, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v4
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v5, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v3, v[0:1], s[2:3]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <8 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <8 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v16i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v16i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v6, 4, v0
; GFX906-NEXT:    v_mov_b32_e32 v5, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx4 v[1:4], v6, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB4_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx4 v[1:4], v6, s[6:7]
; GFX906-NEXT:  .LBB4_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx4 v5, v[1:4], s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v16i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v6, 4, v0
; FEATURE-NEXT:    v_mov_b32_e32 v5, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx4 v[1:4], v6, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB4_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx4 v[1:4], v6, s[6:7]
; FEATURE-NEXT:  .LBB4_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx4 v5, v[1:4], s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v16i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v18, 4, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v5, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx4 v[1:4], v18, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB4_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx4 v[1:4], v18, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v1
; DEFAULT-NEXT:  .LBB4_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v17
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v15
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v16, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v14
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v12
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v13, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v11
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v9
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v10, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v8
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v4, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v7, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v5, v[0:3], s[2:3]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <16 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <16 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <16 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <16 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <16 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <16 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v32i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v32i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; GFX906-NEXT:    v_lshlrev_b32_e32 v10, 5, v0
; GFX906-NEXT:    v_mov_b32_e32 v9, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx4 v[1:4], v10, s[4:5] offset:16
; GFX906-NEXT:    global_load_dwordx4 v[5:8], v10, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB5_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx4 v[1:4], v10, s[6:7] offset:16
; GFX906-NEXT:    global_load_dwordx4 v[5:8], v10, s[6:7]
; GFX906-NEXT:  .LBB5_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(1)
; GFX906-NEXT:    global_store_dwordx4 v9, v[1:4], s[2:3] offset:16
; GFX906-NEXT:    s_waitcnt vmcnt(1)
; GFX906-NEXT:    global_store_dwordx4 v9, v[5:8], s[2:3]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v32i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; FEATURE-NEXT:    v_lshlrev_b32_e32 v10, 5, v0
; FEATURE-NEXT:    v_mov_b32_e32 v9, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx4 v[1:4], v10, s[4:5] offset:16
; FEATURE-NEXT:    global_load_dwordx4 v[5:8], v10, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB5_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx4 v[1:4], v10, s[6:7] offset:16
; FEATURE-NEXT:    global_load_dwordx4 v[5:8], v10, s[6:7]
; FEATURE-NEXT:  .LBB5_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(1)
; FEATURE-NEXT:    global_store_dwordx4 v9, v[1:4], s[2:3] offset:16
; FEATURE-NEXT:    s_waitcnt vmcnt(1)
; FEATURE-NEXT:    global_store_dwordx4 v9, v[5:8], s[2:3]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v32i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v31, 5, v0
; DEFAULT-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; DEFAULT-NEXT:    v_mov_b32_e32 v9, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx4 v[1:4], v31, s[4:5] offset:16
; DEFAULT-NEXT:    global_load_dwordx4 v[5:8], v31, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 8, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v18, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v19, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v20, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v21, 24, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v22, 16, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v23, 8, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v24, 24, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v25, 16, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v26, 8, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v27, 24, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v28, 16, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v29, 8, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v30, 24, v5
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v32, 16, v5
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v33, 8, v5
; DEFAULT-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB5_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx4 v[1:4], v31, s[6:7] offset:16
; DEFAULT-NEXT:    global_load_dwordx4 v[5:8], v31, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 8, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v18, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v19, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v20, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v21, 24, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v22, 16, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v23, 8, v8
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v24, 24, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v25, 16, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v26, 8, v7
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v27, 24, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v28, 16, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v29, 8, v6
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v30, 24, v5
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v32, 16, v5
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v33, 8, v5
; DEFAULT-NEXT:  .LBB5_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v30, 8, v30
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v31, 8, v33
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v29, 8, v29
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v27, 8, v27
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v26, 8, v26
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v24, 8, v24
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v23, 8, v23
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v21, 8, v21
; DEFAULT-NEXT:    v_or_b32_sdwa v30, v32, v30 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v5, v31 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v6, v6, v29 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v27, v28, v27 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v7, v7, v26 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v24, v25, v24 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v8, v8, v23 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v21, v22, v21 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v5, v30 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v6, v6, v27 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v7, v7, v24 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v8, v8, v21 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v9, v[5:8], s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v20
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v18
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v19, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v17
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v15
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v16, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v14
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v12
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v13, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v11
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v10, v0 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v9, v[1:4], s[0:1] offset:16
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <32 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <32 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <32 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <32 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <32 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <32 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @v256i8_liveout(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v256i8_liveout:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v61, 3, v0
; GFX906-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX906-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX906-NEXT:    s_mov_b32 s10, -1
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx4 v[5:8], v61, s[4:5] offset:240
; GFX906-NEXT:    s_mov_b32 s11, 0xe00000
; GFX906-NEXT:    s_add_u32 s8, s8, s3
; GFX906-NEXT:    s_addc_u32 s9, s9, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; GFX906-NEXT:    v_mov_b32_e32 v4, 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; GFX906-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; GFX906-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; GFX906-NEXT:    global_load_dwordx4 v[5:8], v61, s[4:5] offset:224
; GFX906-NEXT:    s_nop 0
; GFX906-NEXT:    global_load_dwordx4 v[9:12], v61, s[4:5] offset:208
; GFX906-NEXT:    global_load_dwordx4 v[13:16], v61, s[4:5] offset:192
; GFX906-NEXT:    global_load_dwordx4 v[17:20], v61, s[4:5] offset:176
; GFX906-NEXT:    global_load_dwordx4 v[21:24], v61, s[4:5] offset:160
; GFX906-NEXT:    global_load_dwordx4 v[25:28], v61, s[4:5] offset:144
; GFX906-NEXT:    global_load_dwordx4 v[29:32], v61, s[4:5] offset:128
; GFX906-NEXT:    global_load_dwordx4 v[33:36], v61, s[4:5] offset:112
; GFX906-NEXT:    global_load_dwordx4 v[37:40], v61, s[4:5] offset:96
; GFX906-NEXT:    global_load_dwordx4 v[41:44], v61, s[4:5] offset:80
; GFX906-NEXT:    global_load_dwordx4 v[45:48], v61, s[4:5] offset:64
; GFX906-NEXT:    global_load_dwordx4 v[49:52], v61, s[4:5] offset:48
; GFX906-NEXT:    global_load_dwordx4 v[53:56], v61, s[4:5] offset:32
; GFX906-NEXT:    global_load_dwordx4 v[57:60], v61, s[4:5] offset:16
; GFX906-NEXT:    global_load_dwordx4 v[0:3], v61, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB6_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx4 v[0:3], v61, s[6:7] offset:240
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; GFX906-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; GFX906-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; GFX906-NEXT:    global_load_dwordx4 v[5:8], v61, s[6:7] offset:224
; GFX906-NEXT:    global_load_dwordx4 v[9:12], v61, s[6:7] offset:208
; GFX906-NEXT:    global_load_dwordx4 v[13:16], v61, s[6:7] offset:192
; GFX906-NEXT:    global_load_dwordx4 v[17:20], v61, s[6:7] offset:176
; GFX906-NEXT:    global_load_dwordx4 v[21:24], v61, s[6:7] offset:160
; GFX906-NEXT:    global_load_dwordx4 v[25:28], v61, s[6:7] offset:144
; GFX906-NEXT:    global_load_dwordx4 v[29:32], v61, s[6:7] offset:128
; GFX906-NEXT:    global_load_dwordx4 v[33:36], v61, s[6:7] offset:112
; GFX906-NEXT:    global_load_dwordx4 v[37:40], v61, s[6:7] offset:96
; GFX906-NEXT:    global_load_dwordx4 v[41:44], v61, s[6:7] offset:80
; GFX906-NEXT:    global_load_dwordx4 v[45:48], v61, s[6:7] offset:64
; GFX906-NEXT:    global_load_dwordx4 v[49:52], v61, s[6:7] offset:48
; GFX906-NEXT:    global_load_dwordx4 v[53:56], v61, s[6:7] offset:32
; GFX906-NEXT:    global_load_dwordx4 v[57:60], v61, s[6:7] offset:16
; GFX906-NEXT:    global_load_dwordx4 v[0:3], v61, s[6:7]
; GFX906-NEXT:  .LBB6_2: ; %bb.2
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:    s_waitcnt vmcnt(7) lgkmcnt(0)
; GFX906-NEXT:    global_store_dwordx4 v4, v[33:36], s[0:1] offset:112
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[37:40], s[0:1] offset:96
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[41:44], s[0:1] offset:80
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[45:48], s[0:1] offset:64
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[49:52], s[0:1] offset:48
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[53:56], s[0:1] offset:32
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[57:60], s[0:1] offset:16
; GFX906-NEXT:    s_waitcnt vmcnt(7)
; GFX906-NEXT:    global_store_dwordx4 v4, v[0:3], s[0:1]
; GFX906-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:4 ; 4-byte Folded Reload
; GFX906-NEXT:    s_nop 0
; GFX906-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:8 ; 4-byte Folded Reload
; GFX906-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:12 ; 4-byte Folded Reload
; GFX906-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:16 ; 4-byte Folded Reload
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx4 v4, v[0:3], s[0:1] offset:240
; GFX906-NEXT:    global_store_dwordx4 v4, v[5:8], s[0:1] offset:224
; GFX906-NEXT:    global_store_dwordx4 v4, v[9:12], s[0:1] offset:208
; GFX906-NEXT:    global_store_dwordx4 v4, v[13:16], s[0:1] offset:192
; GFX906-NEXT:    global_store_dwordx4 v4, v[17:20], s[0:1] offset:176
; GFX906-NEXT:    global_store_dwordx4 v4, v[21:24], s[0:1] offset:160
; GFX906-NEXT:    global_store_dwordx4 v4, v[25:28], s[0:1] offset:144
; GFX906-NEXT:    global_store_dwordx4 v4, v[29:32], s[0:1] offset:128
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v256i8_liveout:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v61, 3, v0
; FEATURE-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; FEATURE-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; FEATURE-NEXT:    s_mov_b32 s10, -1
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx4 v[5:8], v61, s[4:5] offset:240
; FEATURE-NEXT:    s_mov_b32 s11, 0xe00000
; FEATURE-NEXT:    s_add_u32 s8, s8, s3
; FEATURE-NEXT:    s_addc_u32 s9, s9, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; FEATURE-NEXT:    v_mov_b32_e32 v4, 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; FEATURE-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; FEATURE-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; FEATURE-NEXT:    global_load_dwordx4 v[5:8], v61, s[4:5] offset:224
; FEATURE-NEXT:    s_nop 0
; FEATURE-NEXT:    global_load_dwordx4 v[9:12], v61, s[4:5] offset:208
; FEATURE-NEXT:    global_load_dwordx4 v[13:16], v61, s[4:5] offset:192
; FEATURE-NEXT:    global_load_dwordx4 v[17:20], v61, s[4:5] offset:176
; FEATURE-NEXT:    global_load_dwordx4 v[21:24], v61, s[4:5] offset:160
; FEATURE-NEXT:    global_load_dwordx4 v[25:28], v61, s[4:5] offset:144
; FEATURE-NEXT:    global_load_dwordx4 v[29:32], v61, s[4:5] offset:128
; FEATURE-NEXT:    global_load_dwordx4 v[33:36], v61, s[4:5] offset:112
; FEATURE-NEXT:    global_load_dwordx4 v[37:40], v61, s[4:5] offset:96
; FEATURE-NEXT:    global_load_dwordx4 v[41:44], v61, s[4:5] offset:80
; FEATURE-NEXT:    global_load_dwordx4 v[45:48], v61, s[4:5] offset:64
; FEATURE-NEXT:    global_load_dwordx4 v[49:52], v61, s[4:5] offset:48
; FEATURE-NEXT:    global_load_dwordx4 v[53:56], v61, s[4:5] offset:32
; FEATURE-NEXT:    global_load_dwordx4 v[57:60], v61, s[4:5] offset:16
; FEATURE-NEXT:    global_load_dwordx4 v[0:3], v61, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB6_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx4 v[0:3], v61, s[6:7] offset:240
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; FEATURE-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; FEATURE-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; FEATURE-NEXT:    global_load_dwordx4 v[5:8], v61, s[6:7] offset:224
; FEATURE-NEXT:    global_load_dwordx4 v[9:12], v61, s[6:7] offset:208
; FEATURE-NEXT:    global_load_dwordx4 v[13:16], v61, s[6:7] offset:192
; FEATURE-NEXT:    global_load_dwordx4 v[17:20], v61, s[6:7] offset:176
; FEATURE-NEXT:    global_load_dwordx4 v[21:24], v61, s[6:7] offset:160
; FEATURE-NEXT:    global_load_dwordx4 v[25:28], v61, s[6:7] offset:144
; FEATURE-NEXT:    global_load_dwordx4 v[29:32], v61, s[6:7] offset:128
; FEATURE-NEXT:    global_load_dwordx4 v[33:36], v61, s[6:7] offset:112
; FEATURE-NEXT:    global_load_dwordx4 v[37:40], v61, s[6:7] offset:96
; FEATURE-NEXT:    global_load_dwordx4 v[41:44], v61, s[6:7] offset:80
; FEATURE-NEXT:    global_load_dwordx4 v[45:48], v61, s[6:7] offset:64
; FEATURE-NEXT:    global_load_dwordx4 v[49:52], v61, s[6:7] offset:48
; FEATURE-NEXT:    global_load_dwordx4 v[53:56], v61, s[6:7] offset:32
; FEATURE-NEXT:    global_load_dwordx4 v[57:60], v61, s[6:7] offset:16
; FEATURE-NEXT:    global_load_dwordx4 v[0:3], v61, s[6:7]
; FEATURE-NEXT:  .LBB6_2: ; %bb.2
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    s_waitcnt vmcnt(7) lgkmcnt(0)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[33:36], s[0:1] offset:112
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[37:40], s[0:1] offset:96
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[41:44], s[0:1] offset:80
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[45:48], s[0:1] offset:64
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[49:52], s[0:1] offset:48
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[53:56], s[0:1] offset:32
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[57:60], s[0:1] offset:16
; FEATURE-NEXT:    s_waitcnt vmcnt(7)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[0:3], s[0:1]
; FEATURE-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:4 ; 4-byte Folded Reload
; FEATURE-NEXT:    s_nop 0
; FEATURE-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:8 ; 4-byte Folded Reload
; FEATURE-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:12 ; 4-byte Folded Reload
; FEATURE-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:16 ; 4-byte Folded Reload
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx4 v4, v[0:3], s[0:1] offset:240
; FEATURE-NEXT:    global_store_dwordx4 v4, v[5:8], s[0:1] offset:224
; FEATURE-NEXT:    global_store_dwordx4 v4, v[9:12], s[0:1] offset:208
; FEATURE-NEXT:    global_store_dwordx4 v4, v[13:16], s[0:1] offset:192
; FEATURE-NEXT:    global_store_dwordx4 v4, v[17:20], s[0:1] offset:176
; FEATURE-NEXT:    global_store_dwordx4 v4, v[21:24], s[0:1] offset:160
; FEATURE-NEXT:    global_store_dwordx4 v4, v[25:28], s[0:1] offset:144
; FEATURE-NEXT:    global_store_dwordx4 v4, v[29:32], s[0:1] offset:128
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v256i8_liveout:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; DEFAULT-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; DEFAULT-NEXT:    s_mov_b32 s10, -1
; DEFAULT-NEXT:    s_mov_b32 s11, 0xe00000
; DEFAULT-NEXT:    s_add_u32 s8, s8, s3
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v63, 3, v0
; DEFAULT-NEXT:    s_addc_u32 s9, s9, 0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx4 v[17:20], v63, s[4:5] offset:240
; DEFAULT-NEXT:    global_load_dwordx4 v[5:8], v63, s[4:5] offset:224
; DEFAULT-NEXT:    global_load_dwordx4 v[9:12], v63, s[4:5] offset:208
; DEFAULT-NEXT:    global_load_dwordx4 v[13:16], v63, s[4:5] offset:192
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v4, 0
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:20 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:24 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:28 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:32 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:36 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:40 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:44 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:48 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:52 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:56 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:60 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v20, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:64 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:68 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:72 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:76 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:80 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:84 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:88 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:92 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:96 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:100 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:104 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:108 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:112 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:116 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:120 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:124 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:128 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:132 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:136 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:140 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:144 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:148 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:152 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:156 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:160 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:164 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:168 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:172 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:180 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:184 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:176 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:192 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:196 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:188 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:204 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:208 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:200 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[17:20], v63, s[4:5] offset:176
; DEFAULT-NEXT:    global_load_dwordx4 v[21:24], v63, s[4:5] offset:160
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:212 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:216 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:228 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:220 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:224 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:240 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:232 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:236 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:252 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:244 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:248 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:256 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:260 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:264 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:276 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:268 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:272 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:288 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:280 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:284 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:300 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:292 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:296 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:304 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[25:28], v63, s[4:5] offset:144
; DEFAULT-NEXT:    global_load_dwordx4 v[29:32], v63, s[4:5] offset:128
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:308 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:312 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:324 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:316 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:320 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:336 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:328 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:332 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:348 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:340 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:344 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:352 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:356 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:360 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:372 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:364 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:368 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:384 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:376 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:380 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:396 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:388 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:392 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:400 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[33:36], v63, s[4:5] offset:112
; DEFAULT-NEXT:    global_load_dwordx4 v[37:40], v63, s[4:5] offset:96
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:404 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:408 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:420 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:412 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:416 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:432 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:424 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:428 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:444 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:436 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:440 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:448 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:452 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:456 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:468 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:460 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:464 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:480 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:472 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:476 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:492 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:484 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:488 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:496 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[41:44], v63, s[4:5] offset:80
; DEFAULT-NEXT:    global_load_dwordx4 v[45:48], v63, s[4:5] offset:64
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:500 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:504 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:516 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:508 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:512 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:528 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:520 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:524 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:540 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:532 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:536 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:544 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:548 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:552 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:564 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:556 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:560 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:576 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:568 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:572 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:588 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:580 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:584 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:592 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[49:52], v63, s[4:5] offset:48
; DEFAULT-NEXT:    global_load_dwordx4 v[53:56], v63, s[4:5] offset:32
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:596 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:600 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:612 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:604 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:608 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:624 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:616 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:620 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:636 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:628 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:632 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:640 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:644 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:648 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:660 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:652 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:656 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:672 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:664 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:668 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:684 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:676 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:680 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:688 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[57:60], v63, s[4:5] offset:16
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    global_load_dwordx4 v[0:3], v63, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:692 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:696 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:708 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:700 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:704 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:720 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:712 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:716 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:732 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:724 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:728 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:736 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:740 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:744 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:756 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:748 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:752 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:768 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 24, v0
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:760 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v1
; DEFAULT-NEXT:    buffer_store_dword v62, off, s[8:11], 0 offset:772 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 16, v0
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:764 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v1
; DEFAULT-NEXT:    buffer_store_dword v62, off, s[8:11], 0 offset:776 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 8, v0
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB6_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx4 v[0:3], v63, s[6:7] offset:240
; DEFAULT-NEXT:    global_load_dwordx4 v[5:8], v63, s[6:7] offset:224
; DEFAULT-NEXT:    global_load_dwordx4 v[9:12], v63, s[6:7] offset:208
; DEFAULT-NEXT:    global_load_dwordx4 v[13:16], v63, s[6:7] offset:192
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 24, v3
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:20 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 16, v3
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:24 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v3
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:28 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 24, v2
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:32 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 16, v2
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:36 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v2
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:40 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 24, v1
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:44 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 16, v1
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:48 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 8, v1
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:52 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 24, v0
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:56 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v17, 16, v0
; DEFAULT-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:60 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:4 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:8 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:12 ; 4-byte Folded Spill
; DEFAULT-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:16 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v0
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:64 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:68 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:72 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v8
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:76 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:80 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:84 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v7
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:88 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:92 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:96 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v6
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:100 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:104 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:108 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v5
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:112 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:116 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:120 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v12
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:124 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:128 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:132 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v11
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:136 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:140 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:144 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v10
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:148 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:152 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:156 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v9
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:160 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:164 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:168 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v16
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:172 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:180 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:184 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v15
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:176 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:192 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:196 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v14
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:188 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:204 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:208 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v13
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:200 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[17:20], v63, s[6:7] offset:176
; DEFAULT-NEXT:    global_load_dwordx4 v[21:24], v63, s[6:7] offset:160
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:212 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:216 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v20
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:228 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:220 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:224 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v19
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:240 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:232 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:236 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v18
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:252 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:244 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:248 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v17
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:256 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:260 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:264 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v24
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:276 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:268 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:272 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v23
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:288 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:280 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:284 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v22
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:300 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:292 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:296 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v21
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:304 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[25:28], v63, s[6:7] offset:144
; DEFAULT-NEXT:    global_load_dwordx4 v[29:32], v63, s[6:7] offset:128
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:308 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:312 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v28
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:324 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:316 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:320 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v27
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:336 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:328 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:332 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v26
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:348 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:340 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:344 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v25
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:352 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:356 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:360 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v32
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:372 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:364 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:368 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v31
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:384 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:376 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:380 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v30
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:396 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:388 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:392 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v29
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:400 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[33:36], v63, s[6:7] offset:112
; DEFAULT-NEXT:    global_load_dwordx4 v[37:40], v63, s[6:7] offset:96
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:404 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:408 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v36
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:420 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:412 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:416 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v35
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:432 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:424 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:428 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v34
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:444 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:436 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:440 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v33
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:448 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:452 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:456 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v40
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:468 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:460 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:464 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v39
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:480 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:472 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:476 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v38
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:492 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:484 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:488 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v37
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:496 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[41:44], v63, s[6:7] offset:80
; DEFAULT-NEXT:    global_load_dwordx4 v[45:48], v63, s[6:7] offset:64
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:500 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:504 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v44
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:516 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:508 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:512 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v43
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:528 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:520 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:524 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v42
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:540 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:532 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:536 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v41
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:544 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:548 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:552 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v48
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:564 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:556 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:560 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v47
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:576 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:568 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:572 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v46
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:588 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:580 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:584 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v45
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:592 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[49:52], v63, s[6:7] offset:48
; DEFAULT-NEXT:    global_load_dwordx4 v[53:56], v63, s[6:7] offset:32
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:596 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:600 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v52
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:612 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:604 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:608 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v51
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:624 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:616 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:620 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v50
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:636 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:628 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:632 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v49
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:640 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:644 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:648 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v56
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:660 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:652 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:656 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v55
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:672 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:664 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:668 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v54
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:684 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 24, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:676 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:680 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 8, v53
; DEFAULT-NEXT:    buffer_store_dword v0, off, s[8:11], 0 offset:688 ; 4-byte Folded Spill
; DEFAULT-NEXT:    global_load_dwordx4 v[57:60], v63, s[6:7] offset:16
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    global_load_dwordx4 v[0:3], v63, s[6:7]
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:692 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:696 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v60
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:708 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:700 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:704 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v59
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:720 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:712 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:716 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v58
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:732 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:724 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:728 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v57
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:736 ; 4-byte Folded Spill
; DEFAULT-NEXT:    s_waitcnt vmcnt(12)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:740 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:744 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v3
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:756 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:748 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:752 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v2
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:768 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 24, v0
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:760 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 16, v1
; DEFAULT-NEXT:    buffer_store_dword v62, off, s[8:11], 0 offset:772 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 16, v0
; DEFAULT-NEXT:    buffer_store_dword v61, off, s[8:11], 0 offset:764 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v61, 8, v1
; DEFAULT-NEXT:    buffer_store_dword v62, off, s[8:11], 0 offset:776 ; 4-byte Folded Spill
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v62, 8, v0
; DEFAULT-NEXT:  .LBB6_2: ; %bb.2
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v61, off, s[8:11], 0 offset:768 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v62, 8, v62
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v62 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v62, off, s[8:11], 0 offset:776 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v63, off, s[8:11], 0 offset:764 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v61, off, s[8:11], 0 offset:756 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v61, off, s[8:11], 0 offset:772 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    v_or_b32_sdwa v61, v62, v61 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v62, off, s[8:11], 0 offset:760 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v61, off, s[8:11], 0 offset:748 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v62, 8, v62
; DEFAULT-NEXT:    v_or_b32_sdwa v62, v63, v62 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v62 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v62, off, s[8:11], 0 offset:752 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v61, v62, v61 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v61, off, s[8:11], 0 offset:740 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v62, off, s[8:11], 0 offset:744 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v61, 8, v61
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v61, v62, v61 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v61 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3]
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:736 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:732 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:720 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:708 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v57, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v57, off, s[8:11], 0 offset:724 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v58, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v58, off, s[8:11], 0 offset:728 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v59, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v59, off, s[8:11], 0 offset:716 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v57, 8, v57
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v57, v58, v57 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v58, off, s[8:11], 0 offset:712 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v57 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v57, off, s[8:11], 0 offset:700 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v58, 8, v58
; DEFAULT-NEXT:    v_or_b32_sdwa v58, v59, v58 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v58 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v58, off, s[8:11], 0 offset:704 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v57, 8, v57
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v57, v58, v57 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v57 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v57, off, s[8:11], 0 offset:692 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v58, off, s[8:11], 0 offset:696 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v60, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v57, 8, v57
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v57, v58, v57 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v57 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:16
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:688 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:684 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:672 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:660 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v53, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v53, off, s[8:11], 0 offset:676 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v54, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v54, off, s[8:11], 0 offset:680 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v55, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v55, off, s[8:11], 0 offset:668 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v53, 8, v53
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v53, v54, v53 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v54, off, s[8:11], 0 offset:664 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v53 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v53, off, s[8:11], 0 offset:652 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v54, 8, v54
; DEFAULT-NEXT:    v_or_b32_sdwa v54, v55, v54 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v54 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v54, off, s[8:11], 0 offset:656 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v53, 8, v53
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v53, v54, v53 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v53 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v53, off, s[8:11], 0 offset:644 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v54, off, s[8:11], 0 offset:648 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v56, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v53, 8, v53
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v53, v54, v53 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v53 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:32
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:640 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:636 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:624 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:612 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v49, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v49, off, s[8:11], 0 offset:628 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v50, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v50, off, s[8:11], 0 offset:632 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v51, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v51, off, s[8:11], 0 offset:620 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v49, 8, v49
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v49, v50, v49 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v50, off, s[8:11], 0 offset:616 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v49 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v49, off, s[8:11], 0 offset:604 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v50, 8, v50
; DEFAULT-NEXT:    v_or_b32_sdwa v50, v51, v50 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v50 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v50, off, s[8:11], 0 offset:608 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v49, 8, v49
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v49, v50, v49 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v49 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v49, off, s[8:11], 0 offset:596 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v50, off, s[8:11], 0 offset:600 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v52, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v49, 8, v49
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v49, v50, v49 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v49 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:48
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:592 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:588 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:576 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:564 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v45, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v45, off, s[8:11], 0 offset:580 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v46, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v46, off, s[8:11], 0 offset:584 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v47, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v47, off, s[8:11], 0 offset:572 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v45, 8, v45
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v45, v46, v45 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v46, off, s[8:11], 0 offset:568 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v45 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v45, off, s[8:11], 0 offset:556 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v46, 8, v46
; DEFAULT-NEXT:    v_or_b32_sdwa v46, v47, v46 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v46 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v46, off, s[8:11], 0 offset:560 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v45, 8, v45
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v45, v46, v45 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v45 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v45, off, s[8:11], 0 offset:548 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v46, off, s[8:11], 0 offset:552 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v48, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v45, 8, v45
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v45, v46, v45 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v45 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:64
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:544 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:540 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:528 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:516 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v41, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v41, off, s[8:11], 0 offset:532 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v42, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v42, off, s[8:11], 0 offset:536 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v43, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v43, off, s[8:11], 0 offset:524 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v41, 8, v41
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v41, v42, v41 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v42, off, s[8:11], 0 offset:520 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v41 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v41, off, s[8:11], 0 offset:508 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v42, 8, v42
; DEFAULT-NEXT:    v_or_b32_sdwa v42, v43, v42 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v42 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v42, off, s[8:11], 0 offset:512 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v41, 8, v41
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v41, v42, v41 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v41 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v41, off, s[8:11], 0 offset:500 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v42, off, s[8:11], 0 offset:504 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v44, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v41, 8, v41
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v41, v42, v41 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v41 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:80
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:496 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:492 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:480 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:468 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v37, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v37, off, s[8:11], 0 offset:484 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v38, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v38, off, s[8:11], 0 offset:488 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v39, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v39, off, s[8:11], 0 offset:476 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v37, 8, v37
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v37, v38, v37 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v38, off, s[8:11], 0 offset:472 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v37 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v37, off, s[8:11], 0 offset:460 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v38, 8, v38
; DEFAULT-NEXT:    v_or_b32_sdwa v38, v39, v38 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v38 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v38, off, s[8:11], 0 offset:464 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v37, 8, v37
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v37, v38, v37 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v37 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v37, off, s[8:11], 0 offset:452 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v38, off, s[8:11], 0 offset:456 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v40, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v37, 8, v37
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v37, v38, v37 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v37 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:96
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:448 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:444 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:432 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:420 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v33, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v33, off, s[8:11], 0 offset:436 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v34, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v34, off, s[8:11], 0 offset:440 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v35, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v35, off, s[8:11], 0 offset:428 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v33, 8, v33
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v33, v34, v33 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v34, off, s[8:11], 0 offset:424 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v33 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v33, off, s[8:11], 0 offset:412 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v34, 8, v34
; DEFAULT-NEXT:    v_or_b32_sdwa v34, v35, v34 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v34 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v34, off, s[8:11], 0 offset:416 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v33, 8, v33
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v33, v34, v33 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v33 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v33, off, s[8:11], 0 offset:404 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v34, off, s[8:11], 0 offset:408 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v36, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v33, 8, v33
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v33, v34, v33 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v33 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:112
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:400 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:396 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:384 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:372 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v29, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v29, off, s[8:11], 0 offset:388 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v30, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v30, off, s[8:11], 0 offset:392 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v31, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v31, off, s[8:11], 0 offset:380 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v29, 8, v29
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v29, v30, v29 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v30, off, s[8:11], 0 offset:376 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v29 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v29, off, s[8:11], 0 offset:364 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v30, 8, v30
; DEFAULT-NEXT:    v_or_b32_sdwa v30, v31, v30 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v30 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v30, off, s[8:11], 0 offset:368 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v29, 8, v29
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v29, v30, v29 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v29 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v29, off, s[8:11], 0 offset:356 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v30, off, s[8:11], 0 offset:360 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v32, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v29, 8, v29
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v29, v30, v29 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v29 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:128
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:352 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:348 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:336 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:324 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v25, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v25, off, s[8:11], 0 offset:340 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v26, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v26, off, s[8:11], 0 offset:344 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v27, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v27, off, s[8:11], 0 offset:332 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v25, 8, v25
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v25, v26, v25 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v26, off, s[8:11], 0 offset:328 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v25 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v25, off, s[8:11], 0 offset:316 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v26, 8, v26
; DEFAULT-NEXT:    v_or_b32_sdwa v26, v27, v26 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v26 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v26, off, s[8:11], 0 offset:320 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v25, 8, v25
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v25, v26, v25 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v25 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v25, off, s[8:11], 0 offset:308 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v26, off, s[8:11], 0 offset:312 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v28, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v25, 8, v25
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v25, v26, v25 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v25 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:144
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:304 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:300 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:288 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:276 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v21, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v21, off, s[8:11], 0 offset:292 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v22, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v22, off, s[8:11], 0 offset:296 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v23, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v23, off, s[8:11], 0 offset:284 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v21, 8, v21
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v21, v22, v21 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v22, off, s[8:11], 0 offset:280 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v21 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v21, off, s[8:11], 0 offset:268 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v22, 8, v22
; DEFAULT-NEXT:    v_or_b32_sdwa v22, v23, v22 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v22 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v22, off, s[8:11], 0 offset:272 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v21, 8, v21
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v21, v22, v21 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v21 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v21, off, s[8:11], 0 offset:260 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v22, off, s[8:11], 0 offset:264 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v24, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v21, 8, v21
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v21, v22, v21 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v21 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:160
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:256 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:252 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:240 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:228 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v17, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    buffer_load_dword v17, off, s[8:11], 0 offset:244 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v18, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v18, off, s[8:11], 0 offset:248 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v19, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v19, off, s[8:11], 0 offset:236 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v17, 8, v17
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v17, v18, v17 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v18, off, s[8:11], 0 offset:232 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v17 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v17, off, s[8:11], 0 offset:220 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v18, 8, v18
; DEFAULT-NEXT:    v_or_b32_sdwa v18, v19, v18 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v18 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v18, off, s[8:11], 0 offset:224 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v17, 8, v17
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v17, v18, v17 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v17 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v17, off, s[8:11], 0 offset:212 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v18, off, s[8:11], 0 offset:216 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v20, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v17, 8, v17
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_or_b32_sdwa v17, v18, v17 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v17 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:176
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:204 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:208 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:196 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:188 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:192 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v14, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v14, off, s[8:11], 0 offset:168 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:200 ; 4-byte Folded Reload
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v3, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:184 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v13, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v2, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:180 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v13, off, s[8:11], 0 offset:164 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:176 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v13, 8, v13
; DEFAULT-NEXT:    v_or_b32_sdwa v13, v14, v13 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v15, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:172 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v16, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v13 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:192
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:160 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:156 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:152 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:144 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v9, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v9, off, s[8:11], 0 offset:132 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:148 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:140 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v10, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:136 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:128 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v10, off, s[8:11], 0 offset:120 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v11, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v9, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:124 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v9, off, s[8:11], 0 offset:116 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v9, 8, v9
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v12, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v9, v10, v9 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v9 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:208
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:112 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:108 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:104 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:96 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v5, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v5, off, s[8:11], 0 offset:84 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:100 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:92 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v6, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:88 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:80 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v6, off, s[8:11], 0 offset:72 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v7, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v5, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:76 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v5, off, s[8:11], 0 offset:68 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v8, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v6, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:224
; DEFAULT-NEXT:    buffer_load_dword v0, off, s[8:11], 0 offset:64 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_nop 0
; DEFAULT-NEXT:    buffer_load_dword v5, off, s[8:11], 0 offset:4 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v6, off, s[8:11], 0 offset:8 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v7, off, s[8:11], 0 offset:12 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v8, off, s[8:11], 0 offset:16 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:56 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:60 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:48 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(7)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    s_waitcnt vmcnt(3)
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v5, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v1, off, s[8:11], 0 offset:52 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:44 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v5, off, s[8:11], 0 offset:36 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v6, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v3, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v2, off, s[8:11], 0 offset:40 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:32 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v6, off, s[8:11], 0 offset:24 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(2)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v2
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v7, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v5, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v2, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    buffer_load_dword v3, off, s[8:11], 0 offset:28 ; 4-byte Folded Reload
; DEFAULT-NEXT:    buffer_load_dword v5, off, s[8:11], 0 offset:20 ; 4-byte Folded Reload
; DEFAULT-NEXT:    s_waitcnt vmcnt(1)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v8, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v5, v6, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx4 v4, v[0:3], s[2:3] offset:240
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <256 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <256 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  br label %bb.2

bb.2:
  %tmp5 = phi <256 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <256 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void
}

define amdgpu_kernel void @repeat_successor(i32 %in, ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: repeat_successor:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dword s8, s[0:1], 0x24
; GFX906-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x2c
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x3c
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    s_cmp_lt_i32 s8, 3
; GFX906-NEXT:    s_cbranch_scc0 .LBB7_3
; GFX906-NEXT:  ; %bb.1: ; %LeafBlock
; GFX906-NEXT:    s_cmp_gt_i32 s8, 0
; GFX906-NEXT:    s_cbranch_scc0 .LBB7_6
; GFX906-NEXT:  ; %bb.2:
; GFX906-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX906-NEXT:    global_load_dword v0, v0, s[4:5]
; GFX906-NEXT:    s_branch .LBB7_5
; GFX906-NEXT:  .LBB7_3: ; %LeafBlock5
; GFX906-NEXT:    s_cmp_eq_u32 s8, 3
; GFX906-NEXT:    s_cbranch_scc0 .LBB7_6
; GFX906-NEXT:  ; %bb.4: ; %sw.bb5
; GFX906-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX906-NEXT:    global_load_dword v0, v0, s[6:7]
; GFX906-NEXT:  .LBB7_5: ; %return.sink.split
; GFX906-NEXT:    v_mov_b32_e32 v1, 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dword v1, v0, s[2:3]
; GFX906-NEXT:  .LBB7_6: ; %return
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: repeat_successor:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dword s8, s[0:1], 0x24
; FEATURE-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x2c
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x3c
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    s_cmp_lt_i32 s8, 3
; FEATURE-NEXT:    s_cbranch_scc0 .LBB7_3
; FEATURE-NEXT:  ; %bb.1: ; %LeafBlock
; FEATURE-NEXT:    s_cmp_gt_i32 s8, 0
; FEATURE-NEXT:    s_cbranch_scc0 .LBB7_6
; FEATURE-NEXT:  ; %bb.2:
; FEATURE-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; FEATURE-NEXT:    global_load_dword v0, v0, s[4:5]
; FEATURE-NEXT:    s_branch .LBB7_5
; FEATURE-NEXT:  .LBB7_3: ; %LeafBlock5
; FEATURE-NEXT:    s_cmp_eq_u32 s8, 3
; FEATURE-NEXT:    s_cbranch_scc0 .LBB7_6
; FEATURE-NEXT:  ; %bb.4: ; %sw.bb5
; FEATURE-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; FEATURE-NEXT:    global_load_dword v0, v0, s[6:7]
; FEATURE-NEXT:  .LBB7_5: ; %return.sink.split
; FEATURE-NEXT:    v_mov_b32_e32 v1, 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dword v1, v0, s[2:3]
; FEATURE-NEXT:  .LBB7_6: ; %return
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: repeat_successor:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dword s8, s[0:1], 0x24
; DEFAULT-NEXT:    s_load_dwordx4 s[4:7], s[0:1], 0x2c
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x3c
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    s_cmp_lt_i32 s8, 3
; DEFAULT-NEXT:    s_cbranch_scc0 .LBB7_3
; DEFAULT-NEXT:  ; %bb.1: ; %LeafBlock
; DEFAULT-NEXT:    s_cmp_gt_i32 s8, 0
; DEFAULT-NEXT:    s_cbranch_scc0 .LBB7_6
; DEFAULT-NEXT:  ; %bb.2:
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; DEFAULT-NEXT:    global_load_dword v0, v0, s[4:5]
; DEFAULT-NEXT:    s_branch .LBB7_5
; DEFAULT-NEXT:  .LBB7_3: ; %LeafBlock5
; DEFAULT-NEXT:    s_cmp_eq_u32 s8, 3
; DEFAULT-NEXT:    s_cbranch_scc0 .LBB7_6
; DEFAULT-NEXT:  ; %bb.4: ; %sw.bb5
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; DEFAULT-NEXT:    global_load_dword v0, v0, s[6:7]
; DEFAULT-NEXT:  .LBB7_5: ; %return.sink.split
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v1, 24, v0
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 8, v0
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v2, 16, v0
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v3
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v1
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v4, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dword v4, v0, s[2:3]
; DEFAULT-NEXT:  .LBB7_6: ; %return
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <4 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <4 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <4 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <4 x i8>, ptr addrspace(1) %gep2
  switch i32 %in, label %return [
  i32 1, label %return.sink.split
  i32 2, label %return.sink.split
  i32 3, label %sw.bb5
  ]

sw.bb5:
  br label %return.sink.split

return.sink.split:
  %tmp5 = phi <4 x i8> [ %vec2, %sw.bb5 ], [ %vec1, %entry ], [ %vec1, %entry ]
  store <4 x i8> %tmp5, ptr addrspace(1) %dst, align 4
  ret void

return:
  ret void
}

define amdgpu_kernel void @v8i8_phi_chain(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst0, ptr addrspace(1) nocapture %dst1) {
; GFX906-LABEL: v8i8_phi_chain:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v3, 3, v0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v3, s[0:1]
; GFX906-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; GFX906-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB8_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v3, s[2:3]
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; GFX906-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; GFX906-NEXT:    s_and_b64 s[2:3], vcc, exec
; GFX906-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; GFX906-NEXT:  .LBB8_2: ; %Flow
; GFX906-NEXT:    s_or_b64 exec, exec, s[8:9]
; GFX906-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; GFX906-NEXT:    s_cbranch_execz .LBB8_4
; GFX906-NEXT:  ; %bb.3: ; %bb.2
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx2 v0, v[1:2], s[4:5]
; GFX906-NEXT:  .LBB8_4: ; %bb.3
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx2 v0, v[1:2], s[6:7]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_phi_chain:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v3, 3, v0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v3, s[0:1]
; FEATURE-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; FEATURE-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB8_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v3, s[2:3]
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; FEATURE-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; FEATURE-NEXT:    s_and_b64 s[2:3], vcc, exec
; FEATURE-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; FEATURE-NEXT:  .LBB8_2: ; %Flow
; FEATURE-NEXT:    s_or_b64 exec, exec, s[8:9]
; FEATURE-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; FEATURE-NEXT:    s_cbranch_execz .LBB8_4
; FEATURE-NEXT:  ; %bb.3: ; %bb.2
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx2 v0, v[1:2], s[4:5]
; FEATURE-NEXT:  .LBB8_4: ; %bb.3
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx2 v0, v[1:2], s[6:7]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_phi_chain:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v9, 3, v0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v9, s[0:1]
; DEFAULT-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB8_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v9, s[2:3]
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; DEFAULT-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; DEFAULT-NEXT:    s_and_b64 s[2:3], vcc, exec
; DEFAULT-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v4, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v1
; DEFAULT-NEXT:  .LBB8_2: ; %Flow
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[8:9]
; DEFAULT-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; DEFAULT-NEXT:    s_cbranch_execz .LBB8_4
; DEFAULT-NEXT:  ; %bb.3: ; %bb.2
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v9, 8, v8
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v10, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v9, v1, v9 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v10, v7, v10 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v9, v9, v10 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v10, 8, v5
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v11, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v10, v2, v10 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v11, v4, v11 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v0, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v10, v10, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v0, v[9:10], s[4:5]
; DEFAULT-NEXT:  .LBB8_4: ; %bb.3
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v8
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v7, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v3
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v4, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v9, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v9, v[0:1], s[6:7]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  %cmp2 = icmp ult i32 %idx, 7
  br i1 %cmp2, label %bb.2, label %bb.3

bb.2:
  %tmp5 = phi <8 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  store <8 x i8> %tmp5, ptr addrspace(1) %dst0, align 4
  br label %bb.3

bb.3:
  %tmp7 = phi <8 x i8> [ %vec2, %bb.1], [%tmp5, %bb.2]
  store <8 x i8> %tmp7, ptr addrspace(1) %dst1, align 4
  ret void
}


define amdgpu_kernel void @v8i8_phi_zeroinit(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst0, ptr addrspace(1) nocapture %dst1) {
; GFX906-LABEL: v8i8_phi_zeroinit:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v5, 3, v0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    ; implicit-def: $vgpr1_vgpr2
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[3:4], v5, s[0:1]
; GFX906-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; GFX906-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB9_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v5, s[2:3]
; GFX906-NEXT:    s_mov_b32 s2, 0
; GFX906-NEXT:    s_mov_b32 s3, s2
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; GFX906-NEXT:    s_waitcnt vmcnt(1)
; GFX906-NEXT:    v_mov_b32_e32 v4, s3
; GFX906-NEXT:    v_mov_b32_e32 v3, s2
; GFX906-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; GFX906-NEXT:    s_and_b64 s[2:3], vcc, exec
; GFX906-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; GFX906-NEXT:  .LBB9_2: ; %Flow
; GFX906-NEXT:    s_or_b64 exec, exec, s[8:9]
; GFX906-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; GFX906-NEXT:    s_cbranch_execz .LBB9_4
; GFX906-NEXT:  ; %bb.3: ; %bb.2
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_mov_b32_e32 v1, v3
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    v_mov_b32_e32 v2, v4
; GFX906-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; GFX906-NEXT:  .LBB9_4: ; %bb.3
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx2 v0, v[1:2], s[6:7]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_phi_zeroinit:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v5, 3, v0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    ; implicit-def: $vgpr1_vgpr2
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[3:4], v5, s[0:1]
; FEATURE-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; FEATURE-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB9_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v5, s[2:3]
; FEATURE-NEXT:    s_mov_b32 s2, 0
; FEATURE-NEXT:    s_mov_b32 s3, s2
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; FEATURE-NEXT:    s_waitcnt vmcnt(1)
; FEATURE-NEXT:    v_mov_b32_e32 v4, s3
; FEATURE-NEXT:    v_mov_b32_e32 v3, s2
; FEATURE-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; FEATURE-NEXT:    s_and_b64 s[2:3], vcc, exec
; FEATURE-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; FEATURE-NEXT:  .LBB9_2: ; %Flow
; FEATURE-NEXT:    s_or_b64 exec, exec, s[8:9]
; FEATURE-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; FEATURE-NEXT:    s_cbranch_execz .LBB9_4
; FEATURE-NEXT:  ; %bb.3: ; %bb.2
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_mov_b32_e32 v1, v3
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    v_mov_b32_e32 v2, v4
; FEATURE-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; FEATURE-NEXT:  .LBB9_4: ; %bb.3
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx2 v0, v[1:2], s[6:7]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_phi_zeroinit:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    ; implicit-def: $vgpr3
; DEFAULT-NEXT:    ; implicit-def: $vgpr13
; DEFAULT-NEXT:    ; implicit-def: $vgpr11
; DEFAULT-NEXT:    ; implicit-def: $vgpr14
; DEFAULT-NEXT:    ; implicit-def: $vgpr15
; DEFAULT-NEXT:    ; implicit-def: $vgpr12
; DEFAULT-NEXT:    ; implicit-def: $vgpr16
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v4, s[0:1]
; DEFAULT-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB9_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[3:4], v4, s[2:3]
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v1, 0
; DEFAULT-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; DEFAULT-NEXT:    s_and_b64 s[2:3], vcc, exec
; DEFAULT-NEXT:    v_mov_b32_e32 v5, 0
; DEFAULT-NEXT:    v_mov_b32_e32 v9, 0
; DEFAULT-NEXT:    v_mov_b32_e32 v8, 0
; DEFAULT-NEXT:    v_mov_b32_e32 v6, 0
; DEFAULT-NEXT:    v_mov_b32_e32 v2, v1
; DEFAULT-NEXT:    v_mov_b32_e32 v7, v1
; DEFAULT-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; DEFAULT-NEXT:    v_mov_b32_e32 v10, v1
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 8, v3
; DEFAULT-NEXT:  .LBB9_2: ; %Flow
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[8:9]
; DEFAULT-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; DEFAULT-NEXT:    s_cbranch_execz .LBB9_4
; DEFAULT-NEXT:  ; %bb.3: ; %bb.2
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v9
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v8, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v7
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v11, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v2, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v11, v10, v11 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v0, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; DEFAULT-NEXT:    v_mov_b32_e32 v3, v1
; DEFAULT-NEXT:    v_mov_b32_e32 v13, v9
; DEFAULT-NEXT:    v_mov_b32_e32 v11, v8
; DEFAULT-NEXT:    v_mov_b32_e32 v14, v6
; DEFAULT-NEXT:    v_mov_b32_e32 v4, v2
; DEFAULT-NEXT:    v_mov_b32_e32 v15, v7
; DEFAULT-NEXT:    v_mov_b32_e32 v12, v10
; DEFAULT-NEXT:    v_mov_b32_e32 v16, v5
; DEFAULT-NEXT:  .LBB9_4: ; %bb.3
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v13
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v14
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v3, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v11, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v15
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v16
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v4, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v12, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v2, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v2, v[0:1], s[6:7]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  %cmp2 = icmp ult i32 %idx, 7
  br i1 %cmp2, label %bb.2, label %bb.3

bb.2:
  %tmp5 = phi <8 x i8> [ %vec1, %entry ], [ zeroinitializer, %bb.1 ]
  store <8 x i8> %tmp5, ptr addrspace(1) %dst0, align 4
  br label %bb.3

bb.3:
  %tmp7 = phi <8 x i8> [ %vec2, %bb.1], [%tmp5, %bb.2]
  store <8 x i8> %tmp7, ptr addrspace(1) %dst1, align 4
  ret void
}

define amdgpu_kernel void @v8i8_phi_const(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst0, ptr addrspace(1) nocapture %dst1) {
; GFX906-LABEL: v8i8_phi_const:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    ; implicit-def: $vgpr3
; GFX906-NEXT:    ; implicit-def: $vgpr13
; GFX906-NEXT:    ; implicit-def: $vgpr11
; GFX906-NEXT:    ; implicit-def: $vgpr14
; GFX906-NEXT:    ; implicit-def: $vgpr15
; GFX906-NEXT:    ; implicit-def: $vgpr12
; GFX906-NEXT:    ; implicit-def: $vgpr16
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v4, s[0:1]
; GFX906-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_lshrrev_b32_e32 v5, 24, v2
; GFX906-NEXT:    v_lshrrev_b32_e32 v6, 16, v2
; GFX906-NEXT:    v_lshrrev_b32_e32 v7, 8, v2
; GFX906-NEXT:    v_lshrrev_b32_e32 v8, 24, v1
; GFX906-NEXT:    v_lshrrev_b32_e32 v9, 16, v1
; GFX906-NEXT:    v_lshrrev_b32_e32 v10, 8, v1
; GFX906-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB10_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[3:4], v4, s[2:3]
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; GFX906-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; GFX906-NEXT:    s_and_b64 s[2:3], vcc, exec
; GFX906-NEXT:    v_mov_b32_e32 v1, 1
; GFX906-NEXT:    v_mov_b32_e32 v10, 2
; GFX906-NEXT:    v_mov_b32_e32 v9, 3
; GFX906-NEXT:    v_mov_b32_e32 v8, 4
; GFX906-NEXT:    v_mov_b32_e32 v2, 5
; GFX906-NEXT:    v_mov_b32_e32 v7, 6
; GFX906-NEXT:    v_mov_b32_e32 v6, 7
; GFX906-NEXT:    v_mov_b32_e32 v5, 8
; GFX906-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_lshrrev_b32_e32 v16, 24, v4
; GFX906-NEXT:    v_lshrrev_b32_e32 v12, 16, v4
; GFX906-NEXT:    v_lshrrev_b32_e32 v15, 8, v4
; GFX906-NEXT:    v_lshrrev_b32_e32 v14, 24, v3
; GFX906-NEXT:    v_lshrrev_b32_e32 v11, 16, v3
; GFX906-NEXT:    v_lshrrev_b32_e32 v13, 8, v3
; GFX906-NEXT:  .LBB10_2: ; %Flow
; GFX906-NEXT:    s_or_b64 exec, exec, s[8:9]
; GFX906-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; GFX906-NEXT:    s_cbranch_execz .LBB10_4
; GFX906-NEXT:  ; %bb.3: ; %bb.2
; GFX906-NEXT:    v_lshlrev_b16_e32 v3, 8, v10
; GFX906-NEXT:    v_lshlrev_b16_e32 v4, 8, v8
; GFX906-NEXT:    v_or_b32_sdwa v3, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v4, v9, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v3, v3, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; GFX906-NEXT:    v_lshlrev_b16_e32 v4, 8, v7
; GFX906-NEXT:    v_lshlrev_b16_e32 v11, 8, v5
; GFX906-NEXT:    v_or_b32_sdwa v4, v2, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v11, v6, v11 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    v_or_b32_sdwa v4, v4, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; GFX906-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; GFX906-NEXT:    v_mov_b32_e32 v3, v1
; GFX906-NEXT:    v_mov_b32_e32 v13, v10
; GFX906-NEXT:    v_mov_b32_e32 v11, v9
; GFX906-NEXT:    v_mov_b32_e32 v14, v8
; GFX906-NEXT:    v_mov_b32_e32 v4, v2
; GFX906-NEXT:    v_mov_b32_e32 v15, v7
; GFX906-NEXT:    v_mov_b32_e32 v12, v6
; GFX906-NEXT:    v_mov_b32_e32 v16, v5
; GFX906-NEXT:  .LBB10_4: ; %bb.3
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:    v_lshlrev_b16_e32 v0, 8, v13
; GFX906-NEXT:    v_lshlrev_b16_e32 v1, 8, v14
; GFX906-NEXT:    v_or_b32_sdwa v0, v3, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v1, v11, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; GFX906-NEXT:    v_lshlrev_b16_e32 v1, 8, v15
; GFX906-NEXT:    v_lshlrev_b16_e32 v3, 8, v16
; GFX906-NEXT:    v_or_b32_sdwa v1, v4, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v3, v12, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_mov_b32_e32 v2, 0
; GFX906-NEXT:    v_or_b32_sdwa v1, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; GFX906-NEXT:    global_store_dwordx2 v2, v[0:1], s[6:7]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_phi_const:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    ; implicit-def: $vgpr3
; FEATURE-NEXT:    ; implicit-def: $vgpr13
; FEATURE-NEXT:    ; implicit-def: $vgpr11
; FEATURE-NEXT:    ; implicit-def: $vgpr14
; FEATURE-NEXT:    ; implicit-def: $vgpr15
; FEATURE-NEXT:    ; implicit-def: $vgpr12
; FEATURE-NEXT:    ; implicit-def: $vgpr16
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v4, s[0:1]
; FEATURE-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_lshrrev_b32_e32 v5, 24, v2
; FEATURE-NEXT:    v_lshrrev_b32_e32 v6, 16, v2
; FEATURE-NEXT:    v_lshrrev_b32_e32 v7, 8, v2
; FEATURE-NEXT:    v_lshrrev_b32_e32 v8, 24, v1
; FEATURE-NEXT:    v_lshrrev_b32_e32 v9, 16, v1
; FEATURE-NEXT:    v_lshrrev_b32_e32 v10, 8, v1
; FEATURE-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB10_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[3:4], v4, s[2:3]
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; FEATURE-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; FEATURE-NEXT:    s_and_b64 s[2:3], vcc, exec
; FEATURE-NEXT:    v_mov_b32_e32 v1, 1
; FEATURE-NEXT:    v_mov_b32_e32 v10, 2
; FEATURE-NEXT:    v_mov_b32_e32 v9, 3
; FEATURE-NEXT:    v_mov_b32_e32 v8, 4
; FEATURE-NEXT:    v_mov_b32_e32 v2, 5
; FEATURE-NEXT:    v_mov_b32_e32 v7, 6
; FEATURE-NEXT:    v_mov_b32_e32 v6, 7
; FEATURE-NEXT:    v_mov_b32_e32 v5, 8
; FEATURE-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_lshrrev_b32_e32 v16, 24, v4
; FEATURE-NEXT:    v_lshrrev_b32_e32 v12, 16, v4
; FEATURE-NEXT:    v_lshrrev_b32_e32 v15, 8, v4
; FEATURE-NEXT:    v_lshrrev_b32_e32 v14, 24, v3
; FEATURE-NEXT:    v_lshrrev_b32_e32 v11, 16, v3
; FEATURE-NEXT:    v_lshrrev_b32_e32 v13, 8, v3
; FEATURE-NEXT:  .LBB10_2: ; %Flow
; FEATURE-NEXT:    s_or_b64 exec, exec, s[8:9]
; FEATURE-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; FEATURE-NEXT:    s_cbranch_execz .LBB10_4
; FEATURE-NEXT:  ; %bb.3: ; %bb.2
; FEATURE-NEXT:    v_lshlrev_b16_e32 v3, 8, v10
; FEATURE-NEXT:    v_lshlrev_b16_e32 v4, 8, v8
; FEATURE-NEXT:    v_or_b32_sdwa v3, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v4, v9, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v3, v3, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; FEATURE-NEXT:    v_lshlrev_b16_e32 v4, 8, v7
; FEATURE-NEXT:    v_lshlrev_b16_e32 v11, 8, v5
; FEATURE-NEXT:    v_or_b32_sdwa v4, v2, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v11, v6, v11 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    v_or_b32_sdwa v4, v4, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; FEATURE-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; FEATURE-NEXT:    v_mov_b32_e32 v3, v1
; FEATURE-NEXT:    v_mov_b32_e32 v13, v10
; FEATURE-NEXT:    v_mov_b32_e32 v11, v9
; FEATURE-NEXT:    v_mov_b32_e32 v14, v8
; FEATURE-NEXT:    v_mov_b32_e32 v4, v2
; FEATURE-NEXT:    v_mov_b32_e32 v15, v7
; FEATURE-NEXT:    v_mov_b32_e32 v12, v6
; FEATURE-NEXT:    v_mov_b32_e32 v16, v5
; FEATURE-NEXT:  .LBB10_4: ; %bb.3
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    v_lshlrev_b16_e32 v0, 8, v13
; FEATURE-NEXT:    v_lshlrev_b16_e32 v1, 8, v14
; FEATURE-NEXT:    v_or_b32_sdwa v0, v3, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v1, v11, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; FEATURE-NEXT:    v_lshlrev_b16_e32 v1, 8, v15
; FEATURE-NEXT:    v_lshlrev_b16_e32 v3, 8, v16
; FEATURE-NEXT:    v_or_b32_sdwa v1, v4, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v3, v12, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_mov_b32_e32 v2, 0
; FEATURE-NEXT:    v_or_b32_sdwa v1, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; FEATURE-NEXT:    global_store_dwordx2 v2, v[0:1], s[6:7]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_phi_const:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v4, 3, v0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    ; implicit-def: $vgpr3
; DEFAULT-NEXT:    ; implicit-def: $vgpr13
; DEFAULT-NEXT:    ; implicit-def: $vgpr11
; DEFAULT-NEXT:    ; implicit-def: $vgpr14
; DEFAULT-NEXT:    ; implicit-def: $vgpr15
; DEFAULT-NEXT:    ; implicit-def: $vgpr12
; DEFAULT-NEXT:    ; implicit-def: $vgpr16
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v4, s[0:1]
; DEFAULT-NEXT:    v_cmp_lt_u32_e64 s[0:1], 14, v0
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v5, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[8:9], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB10_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[3:4], v4, s[2:3]
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; DEFAULT-NEXT:    s_andn2_b64 s[0:1], s[0:1], exec
; DEFAULT-NEXT:    s_and_b64 s[2:3], vcc, exec
; DEFAULT-NEXT:    v_mov_b32_e32 v1, 1
; DEFAULT-NEXT:    v_mov_b32_e32 v10, 2
; DEFAULT-NEXT:    v_mov_b32_e32 v9, 3
; DEFAULT-NEXT:    v_mov_b32_e32 v8, 4
; DEFAULT-NEXT:    v_mov_b32_e32 v2, 5
; DEFAULT-NEXT:    v_mov_b32_e32 v7, 6
; DEFAULT-NEXT:    v_mov_b32_e32 v6, 7
; DEFAULT-NEXT:    v_mov_b32_e32 v5, 8
; DEFAULT-NEXT:    s_or_b64 s[0:1], s[0:1], s[2:3]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v16, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v12, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v15, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v14, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v13, 8, v3
; DEFAULT-NEXT:  .LBB10_2: ; %Flow
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[8:9]
; DEFAULT-NEXT:    s_and_saveexec_b64 s[2:3], s[0:1]
; DEFAULT-NEXT:    s_cbranch_execz .LBB10_4
; DEFAULT-NEXT:  ; %bb.3: ; %bb.2
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v10
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v8
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v9, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v7
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v11, 8, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v2, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v11, v6, v11 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v0, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; DEFAULT-NEXT:    v_mov_b32_e32 v3, v1
; DEFAULT-NEXT:    v_mov_b32_e32 v13, v10
; DEFAULT-NEXT:    v_mov_b32_e32 v11, v9
; DEFAULT-NEXT:    v_mov_b32_e32 v14, v8
; DEFAULT-NEXT:    v_mov_b32_e32 v4, v2
; DEFAULT-NEXT:    v_mov_b32_e32 v15, v7
; DEFAULT-NEXT:    v_mov_b32_e32 v12, v6
; DEFAULT-NEXT:    v_mov_b32_e32 v16, v5
; DEFAULT-NEXT:  .LBB10_4: ; %bb.3
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v13
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v14
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v3, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v11, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v15
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v3, 8, v16
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v4, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v12, v3 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v2, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v3 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v2, v[0:1], s[6:7]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  %cmp2 = icmp ult i32 %idx, 7
  br i1 %cmp2, label %bb.2, label %bb.3

bb.2:
  %tmp5 = phi <8 x i8> [ %vec1, %entry ], [<i8 1, i8 2, i8 3, i8 4, i8 5, i8 6, i8 7, i8 8>, %bb.1 ]
  store <8 x i8> %tmp5, ptr addrspace(1) %dst0, align 4
  br label %bb.3

bb.3:
  %tmp7 = phi <8 x i8> [ %vec2, %bb.1], [%tmp5, %bb.2]
  store <8 x i8> %tmp7, ptr addrspace(1) %dst1, align 4
  ret void
}

define amdgpu_kernel void @v8i8_multi_block(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst0, ptr addrspace(1) nocapture %dst1) {
; GFX906-LABEL: v8i8_multi_block:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v6, 3, v0
; GFX906-NEXT:    v_mov_b32_e32 v5, 0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[3:4], v6, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_mov_b32_e32 v1, v3
; GFX906-NEXT:    v_mov_b32_e32 v2, v4
; GFX906-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB11_4
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v6, s[2:3]
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; GFX906-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB11_3
; GFX906-NEXT:  ; %bb.2: ; %bb.2
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; GFX906-NEXT:  .LBB11_3: ; %Flow
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:  .LBB11_4: ; %bb.3
; GFX906-NEXT:    s_or_b64 exec, exec, s[0:1]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    global_store_dwordx2 v5, v[1:2], s[6:7]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_multi_block:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v6, 3, v0
; FEATURE-NEXT:    v_mov_b32_e32 v5, 0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[3:4], v6, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_mov_b32_e32 v1, v3
; FEATURE-NEXT:    v_mov_b32_e32 v2, v4
; FEATURE-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB11_4
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v6, s[2:3]
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; FEATURE-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB11_3
; FEATURE-NEXT:  ; %bb.2: ; %bb.2
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; FEATURE-NEXT:  .LBB11_3: ; %Flow
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:  .LBB11_4: ; %bb.3
; FEATURE-NEXT:    s_or_b64 exec, exec, s[0:1]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    global_store_dwordx2 v5, v[1:2], s[6:7]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_multi_block:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx8 s[0:7], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v12, 3, v0
; DEFAULT-NEXT:    v_mov_b32_e32 v5, 0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[3:4], v12, s[0:1]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 24, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 16, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v4
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 24, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 16, v3
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v3
; DEFAULT-NEXT:    v_mov_b32_e32 v1, v3
; DEFAULT-NEXT:    v_mov_b32_e32 v2, v4
; DEFAULT-NEXT:    s_and_saveexec_b64 s[0:1], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB11_4
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v12, s[2:3]
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; DEFAULT-NEXT:    s_and_saveexec_b64 s[2:3], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB11_3
; DEFAULT-NEXT:  ; %bb.2: ; %bb.2
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v11, 8, v11
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v10, 8, v10
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v8, 8, v8
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v7, 8, v7
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v11 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v9, v9, v10 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v8 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v6, v6, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v0, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v9 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v4, v4, v6 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v0, v[3:4], s[4:5]
; DEFAULT-NEXT:  .LBB11_3: ; %Flow
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v7, 24, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 16, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v8, 8, v2
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v10, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v9, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v11, 8, v1
; DEFAULT-NEXT:  .LBB11_4: ; %bb.3
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[0:1]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v11
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v10
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v9, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v8
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v2, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v2, 8, v7
; DEFAULT-NEXT:    v_or_b32_sdwa v2, v6, v2 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v2 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    global_store_dwordx2 v5, v[0:1], s[6:7]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.3
bb.1:
  %cmp2 = icmp ult i32 %idx, 7
  br i1 %cmp2, label %bb.2, label %bb.3

bb.2:
  store <8 x i8> %vec1, ptr addrspace(1) %dst0, align 4
  br label %bb.3

bb.3:
  %tmp5 = phi <8 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ], [ %vec2, %bb.2]
  store <8 x i8> %tmp5, ptr addrspace(1) %dst1, align 4
  ret void
}

define amdgpu_kernel void @v32i8_loop_carried(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst) {
; GFX906-LABEL: v32i8_loop_carried:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v1, 5, v0
; GFX906-NEXT:    v_cmp_lt_u32_e32 vcc, 14, v0
; GFX906-NEXT:    s_mov_b32 s4, 0x2000604
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dword v1, v1, s[2:3]
; GFX906-NEXT:    s_mov_b64 s[2:3], 0
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_mov_b32_e32 v0, v1
; GFX906-NEXT:  .LBB12_1: ; %bb.1
; GFX906-NEXT:    ; =>This Inner Loop Header: Depth=1
; GFX906-NEXT:    s_and_b64 s[6:7], exec, vcc
; GFX906-NEXT:    s_or_b64 s[2:3], s[6:7], s[2:3]
; GFX906-NEXT:    v_perm_b32 v0, v1, v0, s4
; GFX906-NEXT:    s_andn2_b64 exec, exec, s[2:3]
; GFX906-NEXT:    s_cbranch_execnz .LBB12_1
; GFX906-NEXT:  ; %bb.2: ; %bb.2.loopexit
; GFX906-NEXT:    s_or_b64 exec, exec, s[2:3]
; GFX906-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; GFX906-NEXT:    v_mov_b32_e32 v1, 0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_store_dword v1, v0, s[0:1]
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v32i8_loop_carried:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v1, 5, v0
; FEATURE-NEXT:    v_cmp_lt_u32_e32 vcc, 14, v0
; FEATURE-NEXT:    s_mov_b32 s4, 0x2000604
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dword v1, v1, s[2:3]
; FEATURE-NEXT:    s_mov_b64 s[2:3], 0
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_mov_b32_e32 v0, v1
; FEATURE-NEXT:  .LBB12_1: ; %bb.1
; FEATURE-NEXT:    ; =>This Inner Loop Header: Depth=1
; FEATURE-NEXT:    s_and_b64 s[6:7], exec, vcc
; FEATURE-NEXT:    s_or_b64 s[2:3], s[6:7], s[2:3]
; FEATURE-NEXT:    v_perm_b32 v0, v1, v0, s4
; FEATURE-NEXT:    s_andn2_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    s_cbranch_execnz .LBB12_1
; FEATURE-NEXT:  ; %bb.2: ; %bb.2.loopexit
; FEATURE-NEXT:    s_or_b64 exec, exec, s[2:3]
; FEATURE-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; FEATURE-NEXT:    v_mov_b32_e32 v1, 0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_store_dword v1, v0, s[0:1]
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v32i8_loop_carried:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx2 s[2:3], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v1, 5, v0
; DEFAULT-NEXT:    v_cmp_lt_u32_e32 vcc, 14, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dword v1, v1, s[2:3]
; DEFAULT-NEXT:    s_mov_b64 s[2:3], 0
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v0, 16, v1
; DEFAULT-NEXT:    v_mov_b32_e32 v3, v0
; DEFAULT-NEXT:  .LBB12_1: ; %bb.1
; DEFAULT-NEXT:    ; =>This Inner Loop Header: Depth=1
; DEFAULT-NEXT:    s_and_b64 s[4:5], exec, vcc
; DEFAULT-NEXT:    v_mov_b32_e32 v2, v3
; DEFAULT-NEXT:    s_or_b64 s[2:3], s[4:5], s[2:3]
; DEFAULT-NEXT:    v_mov_b32_e32 v3, v1
; DEFAULT-NEXT:    s_andn2_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    s_cbranch_execnz .LBB12_1
; DEFAULT-NEXT:  ; %bb.2: ; %bb.2.loopexit
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[2:3]
; DEFAULT-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x34
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v1, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v1, 8, v2
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v3, v1 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_mov_b32_e32 v4, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v0, v1 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:WORD_0 src1_sel:DWORD
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_store_dword v4, v0, s[0:1]
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <32 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <4 x i8>, ptr addrspace(1) %gep1
  br label %bb.1

bb.1:
  %temp = phi <4 x i8> [ %vec1, %entry ], [ %vec2, %bb.1 ]
  %vec2 = shufflevector <4 x i8> %vec1, <4 x i8> %temp, <4 x i32> <i32 0, i32 2, i32 4, i32 6>
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
  br label %bb.2

bb.2:
  store <4 x i8> %vec2, ptr addrspace(1) %dst, align 4
  ret void
}

; Should not have instances of "Instruction does not dominate all uses!"

define amdgpu_kernel void @v8i8_multiuse_multiblock(ptr addrspace(1) %src1, ptr addrspace(1) %src2, ptr addrspace(1) nocapture %dst1, ptr addrspace(1) nocapture %dst2, ptr addrspace(1) nocapture %dst3) {
; GFX906-LABEL: v8i8_multiuse_multiblock:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dwordx8 s[4:11], s[0:1], 0x24
; GFX906-NEXT:    v_lshlrev_b32_e32 v1, 3, v0
; GFX906-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x44
; GFX906-NEXT:    v_cmp_lt_u32_e64 s[2:3], 14, v0
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    global_load_dwordx2 v[1:2], v1, s[4:5]
; GFX906-NEXT:    s_waitcnt vmcnt(0)
; GFX906-NEXT:    v_lshrrev_b32_e32 v2, 16, v1
; GFX906-NEXT:    v_lshrrev_b16_e32 v3, 8, v1
; GFX906-NEXT:    s_and_saveexec_b64 s[4:5], vcc
; GFX906-NEXT:    s_cbranch_execz .LBB13_2
; GFX906-NEXT:  ; %bb.1: ; %bb.1
; GFX906-NEXT:    v_lshlrev_b16_e32 v6, 8, v2
; GFX906-NEXT:    s_mov_b32 s6, 0x6070504
; GFX906-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; GFX906-NEXT:    v_and_b32_e32 v5, 0xffffff00, v1
; GFX906-NEXT:    v_or_b32_sdwa v6, v1, v6 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v7, 0xffffff00, v2
; GFX906-NEXT:    v_perm_b32 v8, v1, v1, s6
; GFX906-NEXT:    s_andn2_b64 s[2:3], s[2:3], exec
; GFX906-NEXT:    s_and_b64 s[6:7], vcc, exec
; GFX906-NEXT:    v_mov_b32_e32 v4, 0
; GFX906-NEXT:    v_or_b32_sdwa v5, v1, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_3 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v7, v1, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_1 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v6, 0xffff, v6
; GFX906-NEXT:    s_or_b64 s[2:3], s[2:3], s[6:7]
; GFX906-NEXT:    v_or_b32_e32 v7, v6, v7
; GFX906-NEXT:    v_or_b32_e32 v5, v6, v5
; GFX906-NEXT:    global_store_dword v4, v1, s[8:9]
; GFX906-NEXT:    global_store_dword v4, v8, s[8:9] offset:8
; GFX906-NEXT:    global_store_dword v4, v7, s[8:9] offset:16
; GFX906-NEXT:    global_store_dword v4, v5, s[8:9] offset:24
; GFX906-NEXT:  .LBB13_2: ; %Flow
; GFX906-NEXT:    s_or_b64 exec, exec, s[4:5]
; GFX906-NEXT:    s_and_saveexec_b64 s[4:5], s[2:3]
; GFX906-NEXT:    s_cbranch_execz .LBB13_4
; GFX906-NEXT:  ; %bb.3: ; %bb.2
; GFX906-NEXT:    v_and_b32_e32 v5, 0xffffff00, v2
; GFX906-NEXT:    v_lshlrev_b16_e32 v4, 8, v2
; GFX906-NEXT:    v_or_b32_sdwa v5, v1, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v6, 0xffffff00, v1
; GFX906-NEXT:    s_mov_b32 s2, 0xc0c0001
; GFX906-NEXT:    v_or_b32_sdwa v4, v1, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_1 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v5, 0xffff, v5
; GFX906-NEXT:    v_or_b32_sdwa v6, v2, v6 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_perm_b32 v9, 0, v2, s2
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    v_or_b32_e32 v4, v5, v4
; GFX906-NEXT:    v_perm_b32 v7, 0, v1, s2
; GFX906-NEXT:    s_mov_b32 s3, 0xffff0000
; GFX906-NEXT:    v_or_b32_e32 v5, v5, v6
; GFX906-NEXT:    v_lshlrev_b32_e32 v6, 16, v9
; GFX906-NEXT:    v_and_or_b32 v8, v1, s3, v7
; GFX906-NEXT:    v_or_b32_e32 v6, v7, v6
; GFX906-NEXT:    global_store_dword v0, v4, s[10:11]
; GFX906-NEXT:    global_store_dword v0, v5, s[10:11] offset:8
; GFX906-NEXT:    global_store_dword v0, v8, s[10:11] offset:16
; GFX906-NEXT:    global_store_dword v0, v6, s[10:11] offset:24
; GFX906-NEXT:  .LBB13_4: ; %bb.3
; GFX906-NEXT:    s_or_b64 exec, exec, s[4:5]
; GFX906-NEXT:    v_lshlrev_b16_e32 v7, 8, v2
; GFX906-NEXT:    v_and_b32_e32 v4, 0xff, v1
; GFX906-NEXT:    v_and_b32_e32 v5, 0xffffff00, v2
; GFX906-NEXT:    v_or_b32_e32 v8, v3, v7
; GFX906-NEXT:    v_or_b32_sdwa v6, v4, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v8, 0xffff, v8
; GFX906-NEXT:    v_lshlrev_b16_e32 v9, 8, v1
; GFX906-NEXT:    v_or_b32_e32 v3, v3, v5
; GFX906-NEXT:    v_mov_b32_e32 v0, 0
; GFX906-NEXT:    v_or_b32_e32 v6, v8, v6
; GFX906-NEXT:    v_or_b32_sdwa v2, v2, v9 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v4, v4, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; GFX906-NEXT:    v_or_b32_sdwa v1, v1, v9 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_3 src1_sel:DWORD
; GFX906-NEXT:    v_and_b32_e32 v3, 0xffff, v3
; GFX906-NEXT:    v_or_b32_e32 v1, v8, v1
; GFX906-NEXT:    v_or_b32_e32 v4, v3, v4
; GFX906-NEXT:    v_or_b32_e32 v2, v3, v2
; GFX906-NEXT:    global_store_dword v0, v6, s[0:1]
; GFX906-NEXT:    global_store_dword v0, v1, s[0:1] offset:8
; GFX906-NEXT:    global_store_dword v0, v4, s[0:1] offset:16
; GFX906-NEXT:    global_store_dword v0, v2, s[0:1] offset:24
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: v8i8_multiuse_multiblock:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dwordx8 s[4:11], s[0:1], 0x24
; FEATURE-NEXT:    v_lshlrev_b32_e32 v1, 3, v0
; FEATURE-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x44
; FEATURE-NEXT:    v_cmp_lt_u32_e64 s[2:3], 14, v0
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    global_load_dwordx2 v[1:2], v1, s[4:5]
; FEATURE-NEXT:    s_waitcnt vmcnt(0)
; FEATURE-NEXT:    v_lshrrev_b32_e32 v2, 16, v1
; FEATURE-NEXT:    v_lshrrev_b16_e32 v3, 8, v1
; FEATURE-NEXT:    s_and_saveexec_b64 s[4:5], vcc
; FEATURE-NEXT:    s_cbranch_execz .LBB13_2
; FEATURE-NEXT:  ; %bb.1: ; %bb.1
; FEATURE-NEXT:    v_lshlrev_b16_e32 v6, 8, v2
; FEATURE-NEXT:    s_mov_b32 s6, 0x6070504
; FEATURE-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; FEATURE-NEXT:    v_and_b32_e32 v5, 0xffffff00, v1
; FEATURE-NEXT:    v_or_b32_sdwa v6, v1, v6 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v7, 0xffffff00, v2
; FEATURE-NEXT:    v_perm_b32 v8, v1, v1, s6
; FEATURE-NEXT:    s_andn2_b64 s[2:3], s[2:3], exec
; FEATURE-NEXT:    s_and_b64 s[6:7], vcc, exec
; FEATURE-NEXT:    v_mov_b32_e32 v4, 0
; FEATURE-NEXT:    v_or_b32_sdwa v5, v1, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_3 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v7, v1, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_1 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v6, 0xffff, v6
; FEATURE-NEXT:    s_or_b64 s[2:3], s[2:3], s[6:7]
; FEATURE-NEXT:    v_or_b32_e32 v7, v6, v7
; FEATURE-NEXT:    v_or_b32_e32 v5, v6, v5
; FEATURE-NEXT:    global_store_dword v4, v1, s[8:9]
; FEATURE-NEXT:    global_store_dword v4, v8, s[8:9] offset:8
; FEATURE-NEXT:    global_store_dword v4, v7, s[8:9] offset:16
; FEATURE-NEXT:    global_store_dword v4, v5, s[8:9] offset:24
; FEATURE-NEXT:  .LBB13_2: ; %Flow
; FEATURE-NEXT:    s_or_b64 exec, exec, s[4:5]
; FEATURE-NEXT:    s_and_saveexec_b64 s[4:5], s[2:3]
; FEATURE-NEXT:    s_cbranch_execz .LBB13_4
; FEATURE-NEXT:  ; %bb.3: ; %bb.2
; FEATURE-NEXT:    v_and_b32_e32 v5, 0xffffff00, v2
; FEATURE-NEXT:    v_lshlrev_b16_e32 v4, 8, v2
; FEATURE-NEXT:    v_or_b32_sdwa v5, v1, v5 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v6, 0xffffff00, v1
; FEATURE-NEXT:    s_mov_b32 s2, 0xc0c0001
; FEATURE-NEXT:    v_or_b32_sdwa v4, v1, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_1 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v5, 0xffff, v5
; FEATURE-NEXT:    v_or_b32_sdwa v6, v2, v6 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_perm_b32 v9, 0, v2, s2
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    v_or_b32_e32 v4, v5, v4
; FEATURE-NEXT:    v_perm_b32 v7, 0, v1, s2
; FEATURE-NEXT:    s_mov_b32 s3, 0xffff0000
; FEATURE-NEXT:    v_or_b32_e32 v5, v5, v6
; FEATURE-NEXT:    v_lshlrev_b32_e32 v6, 16, v9
; FEATURE-NEXT:    v_and_or_b32 v8, v1, s3, v7
; FEATURE-NEXT:    v_or_b32_e32 v6, v7, v6
; FEATURE-NEXT:    global_store_dword v0, v4, s[10:11]
; FEATURE-NEXT:    global_store_dword v0, v5, s[10:11] offset:8
; FEATURE-NEXT:    global_store_dword v0, v8, s[10:11] offset:16
; FEATURE-NEXT:    global_store_dword v0, v6, s[10:11] offset:24
; FEATURE-NEXT:  .LBB13_4: ; %bb.3
; FEATURE-NEXT:    s_or_b64 exec, exec, s[4:5]
; FEATURE-NEXT:    v_lshlrev_b16_e32 v7, 8, v2
; FEATURE-NEXT:    v_and_b32_e32 v4, 0xff, v1
; FEATURE-NEXT:    v_and_b32_e32 v5, 0xffffff00, v2
; FEATURE-NEXT:    v_or_b32_e32 v8, v3, v7
; FEATURE-NEXT:    v_or_b32_sdwa v6, v4, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v8, 0xffff, v8
; FEATURE-NEXT:    v_lshlrev_b16_e32 v9, 8, v1
; FEATURE-NEXT:    v_or_b32_e32 v3, v3, v5
; FEATURE-NEXT:    v_mov_b32_e32 v0, 0
; FEATURE-NEXT:    v_or_b32_e32 v6, v8, v6
; FEATURE-NEXT:    v_or_b32_sdwa v2, v2, v9 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v4, v4, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; FEATURE-NEXT:    v_or_b32_sdwa v1, v1, v9 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_3 src1_sel:DWORD
; FEATURE-NEXT:    v_and_b32_e32 v3, 0xffff, v3
; FEATURE-NEXT:    v_or_b32_e32 v1, v8, v1
; FEATURE-NEXT:    v_or_b32_e32 v4, v3, v4
; FEATURE-NEXT:    v_or_b32_e32 v2, v3, v2
; FEATURE-NEXT:    global_store_dword v0, v6, s[0:1]
; FEATURE-NEXT:    global_store_dword v0, v1, s[0:1] offset:8
; FEATURE-NEXT:    global_store_dword v0, v4, s[0:1] offset:16
; FEATURE-NEXT:    global_store_dword v0, v2, s[0:1] offset:24
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: v8i8_multiuse_multiblock:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dwordx8 s[4:11], s[0:1], 0x24
; DEFAULT-NEXT:    v_lshlrev_b32_e32 v1, 3, v0
; DEFAULT-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x44
; DEFAULT-NEXT:    v_cmp_lt_u32_e64 s[2:3], 14, v0
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 15, v0
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    global_load_dwordx2 v[1:2], v1, s[4:5]
; DEFAULT-NEXT:    s_waitcnt vmcnt(0)
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v3, 24, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v2, 16, v1
; DEFAULT-NEXT:    v_lshrrev_b32_e32 v6, 8, v1
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v7, 8, v6
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v4, 8, v3
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v5, 8, v2
; DEFAULT-NEXT:    s_and_saveexec_b64 s[4:5], vcc
; DEFAULT-NEXT:    s_cbranch_execz .LBB13_2
; DEFAULT-NEXT:  ; %bb.1: ; %bb.1
; DEFAULT-NEXT:    v_and_b32_e32 v9, 0xff, v1
; DEFAULT-NEXT:    v_or_b32_e32 v10, v9, v7
; DEFAULT-NEXT:    v_cmp_gt_u32_e32 vcc, 7, v0
; DEFAULT-NEXT:    v_and_b32_e32 v10, 0xffff, v10
; DEFAULT-NEXT:    v_or_b32_sdwa v11, v2, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v12, v3, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_e32 v9, v9, v5
; DEFAULT-NEXT:    s_andn2_b64 s[2:3], s[2:3], exec
; DEFAULT-NEXT:    s_and_b64 s[6:7], vcc, exec
; DEFAULT-NEXT:    v_mov_b32_e32 v8, 0
; DEFAULT-NEXT:    v_or_b32_e32 v11, v10, v11
; DEFAULT-NEXT:    v_or_b32_e32 v10, v10, v12
; DEFAULT-NEXT:    v_or_b32_sdwa v12, v6, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v9, 0xffff, v9
; DEFAULT-NEXT:    v_or_b32_sdwa v13, v3, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    s_or_b64 s[2:3], s[2:3], s[6:7]
; DEFAULT-NEXT:    v_or_b32_e32 v12, v9, v12
; DEFAULT-NEXT:    v_or_b32_e32 v9, v9, v13
; DEFAULT-NEXT:    global_store_dword v8, v11, s[8:9]
; DEFAULT-NEXT:    global_store_dword v8, v10, s[8:9] offset:8
; DEFAULT-NEXT:    global_store_dword v8, v12, s[8:9] offset:16
; DEFAULT-NEXT:    global_store_dword v8, v9, s[8:9] offset:24
; DEFAULT-NEXT:  .LBB13_2: ; %Flow
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[4:5]
; DEFAULT-NEXT:    v_lshlrev_b16_e32 v0, 8, v1
; DEFAULT-NEXT:    s_and_saveexec_b64 s[4:5], s[2:3]
; DEFAULT-NEXT:    s_cbranch_execz .LBB13_4
; DEFAULT-NEXT:  ; %bb.3: ; %bb.2
; DEFAULT-NEXT:    v_and_b32_e32 v11, 0xff, v6
; DEFAULT-NEXT:    v_or_b32_sdwa v13, v1, v4 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v9, 0xff, v2
; DEFAULT-NEXT:    v_or_b32_e32 v12, v11, v0
; DEFAULT-NEXT:    v_or_b32_sdwa v11, v11, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v13, 0xffff, v13
; DEFAULT-NEXT:    v_mov_b32_e32 v8, 0
; DEFAULT-NEXT:    v_or_b32_sdwa v10, v9, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v12, 0xffff, v12
; DEFAULT-NEXT:    v_or_b32_e32 v11, v13, v11
; DEFAULT-NEXT:    v_or_b32_sdwa v7, v9, v7 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v9, v3, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_e32 v10, v12, v10
; DEFAULT-NEXT:    v_or_b32_e32 v7, v13, v7
; DEFAULT-NEXT:    v_or_b32_e32 v9, v12, v9
; DEFAULT-NEXT:    global_store_dword v8, v11, s[10:11]
; DEFAULT-NEXT:    global_store_dword v8, v7, s[10:11] offset:8
; DEFAULT-NEXT:    global_store_dword v8, v10, s[10:11] offset:16
; DEFAULT-NEXT:    global_store_dword v8, v9, s[10:11] offset:24
; DEFAULT-NEXT:  .LBB13_4: ; %bb.3
; DEFAULT-NEXT:    s_or_b64 exec, exec, s[4:5]
; DEFAULT-NEXT:    v_and_b32_e32 v6, 0xff, v6
; DEFAULT-NEXT:    v_and_b32_e32 v1, 0xff, v1
; DEFAULT-NEXT:    v_or_b32_e32 v9, v6, v5
; DEFAULT-NEXT:    v_or_b32_sdwa v8, v1, v4 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v9, 0xffff, v9
; DEFAULT-NEXT:    v_or_b32_e32 v4, v6, v4
; DEFAULT-NEXT:    v_mov_b32_e32 v7, 0
; DEFAULT-NEXT:    v_or_b32_e32 v8, v9, v8
; DEFAULT-NEXT:    v_or_b32_sdwa v3, v3, v0 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_sdwa v1, v1, v5 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
; DEFAULT-NEXT:    v_and_b32_e32 v4, 0xffff, v4
; DEFAULT-NEXT:    v_or_b32_sdwa v0, v2, v0 dst_sel:WORD_1 dst_unused:UNUSED_PAD src0_sel:BYTE_0 src1_sel:DWORD
; DEFAULT-NEXT:    v_or_b32_e32 v3, v9, v3
; DEFAULT-NEXT:    v_or_b32_e32 v1, v4, v1
; DEFAULT-NEXT:    v_or_b32_e32 v0, v4, v0
; DEFAULT-NEXT:    global_store_dword v7, v8, s[0:1]
; DEFAULT-NEXT:    global_store_dword v7, v3, s[0:1] offset:8
; DEFAULT-NEXT:    global_store_dword v7, v1, s[0:1] offset:16
; DEFAULT-NEXT:    global_store_dword v7, v0, s[0:1] offset:24
; DEFAULT-NEXT:    s_endpgm
entry:
  %idx = call i32 @llvm.amdgcn.workitem.id.x()
  %gep1 = getelementptr <8 x i8>, ptr addrspace(1) %src1, i32 %idx
  %vec1 = load <8 x i8>, ptr addrspace(1) %gep1
  %gep2 = getelementptr <8 x i8>, ptr addrspace(1) %src2, i32 %idx
  %vec2 = load <8 x i8>, ptr addrspace(1) %gep2
  %cmp = icmp ult i32 %idx, 15
  br i1 %cmp, label %bb.1, label %bb.2
bb.1:
  %s1 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 1, i32 2, i32 3>
  %s2 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 1, i32 3, i32 2>
  %s3 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 2, i32 1, i32 3>
  %s4 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 2, i32 3, i32 1>
  %gep4 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst1, i32 0
  %gep5 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst1, i32 1
  %gep6 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst1, i32 2
  %gep7 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst1, i32 3
  store <4 x i8> %s1, ptr addrspace(1) %gep4, align 4
  store <4 x i8> %s2, ptr addrspace(1) %gep5, align 4
  store <4 x i8> %s3, ptr addrspace(1) %gep6, align 4
  store <4 x i8> %s4, ptr addrspace(1) %gep7, align 4
  %cmp2 = icmp ult i32 %idx, 7
  br i1 %cmp2, label %bb.2, label %bb.3

bb.2:
  %s5 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 3, i32 1, i32 2>
  %s6 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 0, i32 3, i32 2, i32 1>
  %s7 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 0, i32 2, i32 3>
  %s8 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 0, i32 3, i32 2>
  %gep8 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst2, i32 0
  %gep9 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst2, i32 1
  %gep10 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst2, i32 2
  %gep11 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst2, i32 3
  store <4 x i8> %s5, ptr addrspace(1) %gep8, align 4
  store <4 x i8> %s6, ptr addrspace(1) %gep9, align 4
  store <4 x i8> %s7, ptr addrspace(1) %gep10, align 4
  store <4 x i8> %s8, ptr addrspace(1) %gep11, align 4
  br label %bb.3

bb.3:
  %s9 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 2, i32 0, i32 3>
  %s10 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 2, i32 3, i32 0>
  %s11 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 3, i32 0, i32 2>
  %s12 = shufflevector <8 x i8> %vec1, <8 x i8> %vec2, <4 x i32> <i32 1, i32 3, i32 2, i32 0>
  %gep12 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst3, i32 0
  %gep13 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst3, i32 1
  %gep14 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst3, i32 2
  %gep15 = getelementptr ptr addrspace(1), ptr addrspace(1) %dst3, i32 3
  store <4 x i8> %s9, ptr addrspace(1) %gep12, align 4
  store <4 x i8> %s10, ptr addrspace(1) %gep13, align 4
  store <4 x i8> %s11, ptr addrspace(1) %gep14, align 4
  store <4 x i8> %s12, ptr addrspace(1) %gep15, align 4
  ret void
}

; This should not cause Assertion `getType() == V->getType() && "All operands to PHI node must be the same type as the PHI node
; Note: whether or not the assertion fires depends on the iteration ortder of PhiNodes in AMDGPULateCodeGenPrepare, which
; is non-deterministic due to iterators over a set of pointers.

define amdgpu_kernel void @MissingInc_PhiChain(i1 %cmp1.i.i.i.i.i.not, <16 x i8> %promotealloca31.i.i.i.i) {
; GFX906-LABEL: MissingInc_PhiChain:
; GFX906:       ; %bb.0: ; %entry
; GFX906-NEXT:    s_load_dword s0, s[0:1], 0x24
; GFX906-NEXT:    s_waitcnt lgkmcnt(0)
; GFX906-NEXT:    s_bitcmp1_b32 s0, 0
; GFX906-NEXT:    s_cselect_b64 s[2:3], -1, 0
; GFX906-NEXT:    s_xor_b64 s[0:1], s[2:3], -1
; GFX906-NEXT:    v_cndmask_b32_e64 v0, 0, 1, s[0:1]
; GFX906-NEXT:    v_cmp_ne_u32_e64 s[0:1], 1, v0
; GFX906-NEXT:    s_branch .LBB14_2
; GFX906-NEXT:  .LBB14_1: ; %Flow1
; GFX906-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; GFX906-NEXT:    s_and_b64 vcc, exec, s[4:5]
; GFX906-NEXT:    s_cbranch_vccnz .LBB14_6
; GFX906-NEXT:  .LBB14_2: ; %for.body10.i.i.i.i
; GFX906-NEXT:    ; =>This Inner Loop Header: Depth=1
; GFX906-NEXT:    s_and_b64 vcc, exec, s[0:1]
; GFX906-NEXT:    s_mov_b64 s[4:5], s[2:3]
; GFX906-NEXT:    s_cbranch_vccnz .LBB14_4
; GFX906-NEXT:  ; %bb.3: ; %if.then.i.i.i.i.i
; GFX906-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; GFX906-NEXT:    s_mov_b64 s[4:5], -1
; GFX906-NEXT:  .LBB14_4: ; %Flow
; GFX906-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; GFX906-NEXT:    s_andn2_b64 vcc, exec, s[4:5]
; GFX906-NEXT:    s_mov_b64 s[4:5], -1
; GFX906-NEXT:    s_cbranch_vccnz .LBB14_1
; GFX906-NEXT:  ; %bb.5: ; %if.end.i.i.i.i.i
; GFX906-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; GFX906-NEXT:    s_mov_b64 s[4:5], 0
; GFX906-NEXT:    s_and_b64 vcc, exec, s[0:1]
; GFX906-NEXT:    s_branch .LBB14_1
; GFX906-NEXT:  .LBB14_6: ; %DummyReturnBlock
; GFX906-NEXT:    s_endpgm
; FEATURE-LABEL: MissingInc_PhiChain:
; FEATURE:       ; %bb.0: ; %entry
; FEATURE-NEXT:    s_load_dword s0, s[0:1], 0x24
; FEATURE-NEXT:    s_waitcnt lgkmcnt(0)
; FEATURE-NEXT:    s_bitcmp1_b32 s0, 0
; FEATURE-NEXT:    s_cselect_b64 s[2:3], -1, 0
; FEATURE-NEXT:    s_xor_b64 s[0:1], s[2:3], -1
; FEATURE-NEXT:    v_cndmask_b32_e64 v0, 0, 1, s[0:1]
; FEATURE-NEXT:    v_cmp_ne_u32_e64 s[0:1], 1, v0
; FEATURE-NEXT:    s_branch .LBB14_2
; FEATURE-NEXT:  .LBB14_1: ; %Flow1
; FEATURE-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; FEATURE-NEXT:    s_and_b64 vcc, exec, s[4:5]
; FEATURE-NEXT:    s_cbranch_vccnz .LBB14_6
; FEATURE-NEXT:  .LBB14_2: ; %for.body10.i.i.i.i
; FEATURE-NEXT:    ; =>This Inner Loop Header: Depth=1
; FEATURE-NEXT:    s_and_b64 vcc, exec, s[0:1]
; FEATURE-NEXT:    s_mov_b64 s[4:5], s[2:3]
; FEATURE-NEXT:    s_cbranch_vccnz .LBB14_4
; FEATURE-NEXT:  ; %bb.3: ; %if.then.i.i.i.i.i
; FEATURE-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; FEATURE-NEXT:    s_mov_b64 s[4:5], -1
; FEATURE-NEXT:  .LBB14_4: ; %Flow
; FEATURE-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; FEATURE-NEXT:    s_andn2_b64 vcc, exec, s[4:5]
; FEATURE-NEXT:    s_mov_b64 s[4:5], -1
; FEATURE-NEXT:    s_cbranch_vccnz .LBB14_1
; FEATURE-NEXT:  ; %bb.5: ; %if.end.i.i.i.i.i
; FEATURE-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; FEATURE-NEXT:    s_mov_b64 s[4:5], 0
; FEATURE-NEXT:    s_and_b64 vcc, exec, s[0:1]
; FEATURE-NEXT:    s_branch .LBB14_1
; FEATURE-NEXT:  .LBB14_6: ; %DummyReturnBlock
; FEATURE-NEXT:    s_endpgm
;
; DEFAULT-LABEL: MissingInc_PhiChain:
; DEFAULT:       ; %bb.0: ; %entry
; DEFAULT-NEXT:    s_load_dword s0, s[0:1], 0x24
; DEFAULT-NEXT:    s_waitcnt lgkmcnt(0)
; DEFAULT-NEXT:    s_bitcmp1_b32 s0, 0
; DEFAULT-NEXT:    s_cselect_b64 s[2:3], -1, 0
; DEFAULT-NEXT:    s_xor_b64 s[0:1], s[2:3], -1
; DEFAULT-NEXT:    v_cndmask_b32_e64 v0, 0, 1, s[0:1]
; DEFAULT-NEXT:    v_cmp_ne_u32_e64 s[0:1], 1, v0
; DEFAULT-NEXT:    s_branch .LBB14_2
; DEFAULT-NEXT:  .LBB14_1: ; %Flow1
; DEFAULT-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; DEFAULT-NEXT:    s_and_b64 vcc, exec, s[4:5]
; DEFAULT-NEXT:    s_cbranch_vccnz .LBB14_6
; DEFAULT-NEXT:  .LBB14_2: ; %for.body10.i.i.i.i
; DEFAULT-NEXT:    ; =>This Inner Loop Header: Depth=1
; DEFAULT-NEXT:    s_and_b64 vcc, exec, s[0:1]
; DEFAULT-NEXT:    s_mov_b64 s[4:5], s[2:3]
; DEFAULT-NEXT:    s_cbranch_vccnz .LBB14_4
; DEFAULT-NEXT:  ; %bb.3: ; %if.then.i.i.i.i.i
; DEFAULT-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; DEFAULT-NEXT:    s_mov_b64 s[4:5], -1
; DEFAULT-NEXT:  .LBB14_4: ; %Flow
; DEFAULT-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; DEFAULT-NEXT:    s_andn2_b64 vcc, exec, s[4:5]
; DEFAULT-NEXT:    s_mov_b64 s[4:5], -1
; DEFAULT-NEXT:    s_cbranch_vccnz .LBB14_1
; DEFAULT-NEXT:  ; %bb.5: ; %if.end.i.i.i.i.i
; DEFAULT-NEXT:    ; in Loop: Header=BB14_2 Depth=1
; DEFAULT-NEXT:    s_mov_b64 s[4:5], 0
; DEFAULT-NEXT:    s_and_b64 vcc, exec, s[0:1]
; DEFAULT-NEXT:    s_branch .LBB14_1
; DEFAULT-NEXT:  .LBB14_6: ; %DummyReturnBlock
; DEFAULT-NEXT:    s_endpgm
entry:
  br label %for.body10.i.i.i.i

for.body10.i.i.i.i:                               ; preds = %if.end.1.i.i.i.i.i, %entry
  %promotealloca3237.i.i.i.i = phi <16 x i8> [ <i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1, i8 1>, %entry ], [ %1, %if.end.1.i.i.i.i.i ]
  br i1 %cmp1.i.i.i.i.i.not, label %if.end.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %for.body10.i.i.i.i
  %0 = insertelement <16 x i8> %promotealloca3237.i.i.i.i, i8 0, i64 0
  br label %if.end.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i.i, %for.body10.i.i.i.i
  %promotealloca31.i.i.i.i3 = phi <16 x i8> [ %0, %if.then.i.i.i.i.i ], [ %promotealloca3237.i.i.i.i, %for.body10.i.i.i.i ]
  br i1 %cmp1.i.i.i.i.i.not, label %if.end.1.i.i.i.i.i, label %if.then.1.i.i.i.i.i

if.then.1.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  br label %if.end.1.i.i.i.i.i

if.end.1.i.i.i.i.i:                               ; preds = %if.then.1.i.i.i.i.i, %if.end.i.i.i.i.i
  %promotealloca30.i.i.i.i = phi <16 x i8> [ %promotealloca31.i.i.i.i, %if.then.1.i.i.i.i.i ], [ %promotealloca31.i.i.i.i3, %if.end.i.i.i.i.i ]
  %1 = shufflevector <16 x i8> %promotealloca30.i.i.i.i, <16 x i8> zeroinitializer, <16 x i32> <i32 0, i32 1, i32 18, i32 19, i32 20, i32 21, i32 22, i32 23, i32 24, i32 25, i32 26, i32 27, i32 28, i32 29, i32 30, i32 31>
  br label %for.body10.i.i.i.i
}


declare i32 @llvm.amdgcn.workitem.id.x()
